(function(t){function e(e){for(var a,i,o=e[0],l=e[1],c=e[2],u=0,f=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==r[l]&&(a=!1)}a&&(s.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},s=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/editor/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("d3b7"),n("4de4"),n("b680"),n("25f0");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("navbar"),n("transition",{attrs:{name:"slide"}},[n("keep-alive",{attrs:{include:"Home"}},[n("router-view")],1)],1)],1)},s=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-toolbar",[n("v-app-bar-nav-icon",{staticClass:"primary--text",on:{click:function(e){t.drawer=!t.drawer}}}),n("v-toolbar-title",{staticClass:"title"},[n("router-link",{staticClass:"primary--text text-decoration-none",attrs:{to:"/"}},[t._v(" Varnam ")])],1),n("v-spacer"),n("v-select",{staticClass:"flex-grow-0 flex-shrink-1 d-none d-sm-block",attrs:{items:t.langs,"hide-details":!0,label:"Language",outlined:"",dense:""},model:{value:t.lang,callback:function(e){t.lang=e},expression:"lang"}}),n("NavbarButtons",{attrs:{list:!1}})],1),n("v-navigation-drawer",{staticClass:"primary--text",attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",[n("v-list-item",{on:{click:function(e){t.drawer=!t.drawer}}},[n("v-app-bar-nav-icon",{staticClass:"primary--text"}),n("span",{staticClass:"primary--text text-decoration-none"},[t._v(" Varnam ")])],1),n("v-list-item",{staticClass:"mt-4"},[n("v-select",{staticClass:"flex-grow-0 flex-shrink-1",attrs:{items:t.langs,"hide-details":!0,label:"Language",outlined:"",dense:""},model:{value:t.lang,callback:function(e){t.lang=e},expression:"lang"}})],1),n("NavbarButtons",{staticClass:"mt-4",attrs:{list:!0}})],1)],1)],1)},o=[],l=(n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.list?n("div",[n("v-list-item",["Home"==t.$route.name?n("v-btn",{attrs:{to:"/settings",color:"primary",depressed:"",block:""}},[n("v-icon",{attrs:{left:t.icon}},[t._v("mdi-cog")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Settings")])],1):n("v-btn",{attrs:{to:"/",color:"primary",depressed:"",block:""}},[n("v-icon",{attrs:{left:t.icon}},[t._v("mdi-arrow-left")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Back")])],1)],1),n("v-list-item",[n("v-btn",{attrs:{to:"/scheme",color:"primary",depressed:"",block:""}},[n("v-icon",{attrs:{left:t.icon}},[t._v("mdi-information-outline")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Help")])],1)],1)],1):n("div",["Home"==t.$route.name?n("v-btn",{staticClass:"ma-2",attrs:{to:"/settings",color:"primary",depressed:""}},[n("v-icon",{attrs:{left:t.icon}},[t._v("mdi-cog")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Settings")])],1):n("v-btn",{staticClass:"ma-2",attrs:{to:"/",color:"primary",depressed:""}},[n("v-icon",{attrs:{left:t.icon}},[t._v("mdi-arrow-left")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Back")])],1),n("v-btn",{staticClass:"ma-2",attrs:{to:"/scheme",color:"primary",depressed:""}},[n("v-icon",{attrs:{left:t.icon}},[t._v("mdi-information-outline")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Help")])],1)],1)}),c=[],d=(n("b0c0"),{name:"NavbarButtons",props:{list:{default:!0}},computed:{icon:function(){return{xs:this.list,sm:this.list,md:!0,lg:!0,xl:!0}[this.$vuetify.breakpoint.name]},iconText:function(){return{xs:this.list,sm:this.list,md:!0,lg:!0,xl:!0}[this.$vuetify.breakpoint.name]}}}),u=d,f=n("2877"),v=n("6544"),p=n.n(v),m=n("8336"),h=n("132d"),b=n("da13"),g=Object(f["a"])(u,l,c,!1,null,null,null),_=g.exports;p()(g,{VBtn:m["a"],VIcon:h["a"],VListItem:b["a"]});var w={components:{NavbarButtons:_},name:"Navbar",data:function(){return{drawer:!1}},computed:{langs:function(){var t=[];return this.$store.state.langs.forEach((function(e){t.push({text:e.DisplayName,value:e.Identifier})})),t},lang:{get:function(){return this.$store.state.settings.lang},set:function(t){this.$store.commit("updateSettings",{lang:t})}}}},x=w,k=n("5bc1"),y=n("8860"),V=n("f774"),S=n("b974"),$=n("2fa4"),T=n("71d9"),I=n("2a7f"),A=Object(f["a"])(x,i,o,!1,null,null,null),D=A.exports;p()(A,{VAppBarNavIcon:k["a"],VList:y["a"],VListItem:b["a"],VNavigationDrawer:V["a"],VSelect:S["a"],VSpacer:$["a"],VToolbar:T["a"],VToolbarTitle:I["c"]});var O={name:"App",components:{Navbar:D},data:function(){return{}}},C=O,N=(n("034f"),n("7496")),R=Object(f["a"])(C,r,s,!1,null,null,null),L=R.exports;p()(R,{VApp:N["a"]});var j,F=n("8c4f"),W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("v-container",{staticClass:"main",attrs:{fluid:t.fluid}},[n("Editor")],1)],1)},E=[],P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"textarea"},[n("v-textarea",{ref:"editor",style:"font-size: "+t.$store.state.settings.fontSize+"px",attrs:{outlined:"",name:"translate",label:"Type here...",rows:"20",autofocus:!0},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}}),n("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.setupDialog,callback:function(e){t.setupDialog=e},expression:"setupDialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[t._v(" No Varnam Languages Found ")]),n("v-card-text",[t._v("Varnam couldn't find any languages set up. This looks like a first install. Set up languages to use Varnam.")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:"",to:"/settings"},on:{click:function(e){t.setupDialog=!1}}},[t._v(" Set Up Languages ")])],1)],1)],1)],1)},U=[],M=(n("498a"),n("99af"),n("99d7")),B=n.n(M),q=(n("3636"),[]),z=[],H=[],J={name:"Editor",data:function(){return{inputText:"",alternateWords:[]}},computed:{setupDialog:{get:function(){return this.$store.state.setupDialog},set:function(){this.$store.commit("hideSetupDialog")}},lang:function(){return this.$store.state.settings.lang},suggestions:function(){return this.$store.state.suggestions}},methods:{init:function(){var t=this,e=new B.a({values:function(e,n){console.log(e,z),z[e]?n(z[e]):t.transliterate(e).then((function(t){if(t){q=[];for(var a=0;a<t.length;a++){var r={key:e,value:t[a].trim()};q.push(r)}n(q)}}))},menuItemTemplate:function(e){return'<span style="font-size: '+t.$store.state.settings.fontSize+'px">'+e.original.value+"</span>"}});j=this.$refs.editor.$el.getElementsByTagName("textarea")[0],e.attach(j),j.addEventListener("tribute-replaced",(function(t){console.log(q),z[t.detail.item.original.value]=q})),this.$VARNAM_OFFLINE||(this.$VARNAM_IDB.fetchWords(),this.$store.subscribe((function(e){"updateSettings"===e.type&&t.$VARNAM_IDB.fetchWords()})))},transliterate:function(t){var e=this;return new Promise((function(n,a){var r=[];t=encodeURIComponent(t),!e.$VARNAM_OFFLINE&&e.$store.state.idbWords[t]?(r=e.$store.state.idbWords[t],n(r)):(H[t]=new AbortController,e.$store.commit("requestSend"),fetch(e.$VARNAM_API_URL+"/tl/".concat(e.lang,"/").concat(t),{signal:H[t].signal}).then((function(t){return t.json()})).then((function(e){r=e.result,n(r),delete H[t]})))}))}},mounted:function(){this.init()}},G=J,K=n("b0af"),Z=n("99d9"),Y=n("169a"),Q=n("a844"),X=Object(f["a"])(G,P,U,!1,null,null,null),tt=X.exports;p()(X,{VBtn:m["a"],VCard:K["a"],VCardActions:Z["b"],VCardText:Z["d"],VCardTitle:Z["e"],VDialog:Y["a"],VSpacer:$["a"],VTextarea:Q["a"]});var et={name:"Home",components:{Editor:tt},computed:{fluid:function(){var t=this.$vuetify.breakpoint.name;return"md"===t||"sm"===t||"xs"===t}}},nt=et,at=n("a523"),rt=Object(f["a"])(nt,W,E,!1,null,"220e5613",null),st=rt.exports;p()(rt,{VContainer:at["a"]});var it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{staticClass:"d-flex justify-center"},[n("v-flex",{attrs:{xs11:"",xl6:""}},[n("v-tabs",{attrs:{grow:!0,"show-arrows":!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tabs-slider"),n("v-tab",{attrs:{href:"#editor"}},[n("v-icon",[t._v("lead-pencil")]),t._v(" Editor ")],1),n("v-tab",{attrs:{href:"#words"}},[n("v-icon",[t._v("lead-pencil")]),t._v(" Words ")],1),n("v-tab-item",{attrs:{value:"editor"}},[n("EditorSettings"),t.$VARNAM_OFFLINE?n("LanguageDownload"):t._e()],1),n("v-tab-item",{attrs:{value:"words"}},[t.$VARNAM_OFFLINE?n("div",[n("AddWordsOffline")],1):n("div",[n("v-tabs",{attrs:{vertical:!0},model:{value:t.vtab,callback:function(e){t.vtab=e},expression:"vtab"}},[n("v-tab",{attrs:{href:"#offline"}},[t._v("Offline")]),n("v-tab",{attrs:{href:"#online"}},[t._v("Online")]),n("v-tab-item",{attrs:{value:"offline"}},[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-text",[n("AddWordsOffline")],1)],1)],1),n("v-tab-item",{attrs:{value:"online"}},[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-text",[n("AddWordsOnline")],1)],1)],1)],1)],1)])],1)],1)],1),n("br"),n("v-divider"),n("Footer")],1)},ot=[],lt=n("5530"),ct=(n("ac1f"),n("5319"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("AddWordForm",{on:{addWord:t.addWord}}),n("v-data-table",{staticClass:"text-h4",attrs:{headers:t.headers,items:t.words,"sort-by":"votes","sort-desc":""},on:{"update:items":function(e){t.words=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var a=e.item;return[n("v-btn",{attrs:{depressed:"",color:a.voted?"primary":"",title:"Vote","aria-label":"Vote suggestion"},on:{click:function(e){return t.vote(a._id)}}},[n("v-icon",[t._v("mdi-arrow-up-box")]),t._v(" "+t._s(a.votes)+" ")],1)]}}])}),n("v-snackbar",{attrs:{right:!0},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[n("v-btn",t._b({attrs:{color:"secondary",text:""},on:{click:function(e){t.snackbarDisplay=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)}),dt=[],ut=(n("7db0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"addwords"},[n("v-form",[n("v-row",{attrs:{cols:"12",md:"4",align:"center"}},[n("v-col",{attrs:{cols:"5"}},[n("v-text-field",{attrs:{label:"Pattern in English","hide-details":!0,outlined:"",color:"primary"},model:{value:t.pattern,callback:function(e){t.pattern=e},expression:"pattern"}})],1),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"Word in "+t.langName,"hide-details":!0,outlined:"",color:"primary"},model:{value:t.word,callback:function(e){t.word=e},expression:"word"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{attrs:{large:"",color:"primary"},on:{click:t.addWord}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add Word ")],1)],1)],1),t.pattern.length>0&&t.word.length>0?n("p",[t._v("Typing "),n("b",[t._v(t._s(t.pattern))]),t._v(" will show the suggestion "),n("b",[t._v(t._s(t.word))]),t._v(".")]):t._e()],1)],1)}),ft=[],vt={name:"AddWordsForm",data:function(){return{word:"",pattern:""}},computed:{langName:function(){var t=this,e=this.$store.state.langs.find((function(e){return e.Identifier===t.$store.state.settings.lang}));return e?e.DisplayName:""}},methods:{addWord:function(){this.$emit("addWord",{word:this.word,pattern:this.pattern.toLowerCase()})}}},pt=vt,mt=n("62ad"),ht=n("4bd4"),bt=n("0fd9"),gt=n("8654"),_t=Object(f["a"])(pt,ut,ft,!1,null,null,null),wt=_t.exports;p()(_t,{VBtn:m["a"],VCol:mt["a"],VForm:ht["a"],VIcon:h["a"],VRow:bt["a"],VTextField:gt["a"]});var xt={name:"AddWordsOnline",components:{AddWordForm:wt},data:function(){return{snackbarDisplay:!1,snackbarText:!1,headers:[{text:"",sortable:!1,value:"action",width:10},{text:"Word",sortable:!0,value:"word"},{text:"Pattern",sortable:!0,value:"pattern"}],words:[]}},methods:{init:function(){var t=this;fetch(this.$VARNAM_REVIEW_URL+"/suggestions?lang="+this.$store.state.settings.lang).then((function(t){return t.json()})).then((function(e){t.words=e}))},addWord:function(t){var e=this;t.lang=this.$store.state.settings.lang,fetch(this.$VARNAM_REVIEW_URL+"/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){e.snackbarText="Suggestion was addedd successfully",e.snackbarDisplay=!0,e.init()}))},vote:function(t){var e=this.words.find((function(e){return e._id===t}));fetch(this.$VARNAM_REVIEW_URL+"/suggestions/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sid:t})}).then((function(t){return t.json()})).then((function(t){"voted"===t.message?(e.voted=!1,e.votes--):"success"===t.message&&(e.voted=!0,e.votes++)}))}},mounted:function(){var t=this;this.init(),this.$store.subscribe((function(e){"updateSettings"===e.type&&t.init()}))}},kt=xt,yt=n("8fea"),Vt=n("2db4"),St=Object(f["a"])(kt,ct,dt,!1,null,null,null),$t=St.exports;p()(St,{VBtn:m["a"],VDataTable:yt["a"],VIcon:h["a"],VSnackbar:Vt["a"]});var Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$VARNAM_OFFLINE?n("div",[n("v-card",{attrs:{rounded:"",outlined:""}},[n("v-card-title",[t._v("Learn Word")]),n("v-card-subtitle",[t._v("Type in the word for Varnam to learn. Varnam will make different patterns from the word and add it to its database.")]),n("v-card-text",[n("v-text-field",{attrs:{label:"Word in "+t.langName,"hide-details":!0,outlined:"",clearable:""},scopedSlots:t._u([{key:"append-outer",fn:function(){return[n("v-btn",{staticStyle:{top:"-12px"},attrs:{large:"",color:"primary"},on:{click:t.learnWord}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-teach")]),t._v(" Learn Word ")],1)]},proxy:!0}],null,!1,2016219063),model:{value:t.wordToLearn,callback:function(e){t.wordToLearn=e},expression:"wordToLearn"}})],1)],1),n("v-card",{attrs:{rounded:"",outlined:""}},[n("v-card-title",[t._v("Train Word")]),n("v-card-subtitle",[t._v("Ask Varnam to use a particular pattern for a word.")]),n("v-card-text",[n("AddWordForm",{on:{addWord:t.addWord}})],1)],1),n("v-card",{attrs:{rounded:"",outlined:""}},[n("v-card-title",[t._v("Delete Word")]),n("v-card-subtitle",[t._v("Varnam will delete this word and all patterns associated with it from database.")]),n("v-card-text",[n("v-row",{attrs:{cols:"12",align:"center"}},[n("v-col",{attrs:{cols:"9"}},[n("v-text-field",{attrs:{label:"Word to delete (in "+t.langName+")","hide-details":!0,outlined:""},model:{value:t.wordToDelete,callback:function(e){t.wordToDelete=e},expression:"wordToDelete"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{attrs:{large:"",color:"error"},on:{click:function(e){return t.deleteWord()}}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-minus")]),t._v(" Delete Word ")],1)],1)],1)],1)],1),n("v-card",{attrs:{rounded:"",outlined:""}},[n("v-card-title",[t._v("Import Words")]),n("v-card-subtitle",[t._v("Import many words to Varnam.")]),n("v-card-text",[n("v-tabs",{attrs:{vertical:!0},model:{value:t.vtab,callback:function(e){t.vtab=e},expression:"vtab"}},[n("v-tab",{attrs:{href:"#file"}},[t._v("File")]),n("v-tab",{attrs:{href:"#online"}},[t._v("Online")]),n("v-tab-item",{attrs:{value:"file"}},[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-text",[n("ImportFromFile")],1)],1)],1),n("v-tab-item",{attrs:{value:"online"}},[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-text",[n("ImportFromOnline")],1)],1)],1)],1)],1)],1)],1):n("div",[n("AddWordForm",{on:{addWord:t.addWord}}),n("v-data-table",{attrs:{headers:t.headers,items:t.words,"items-per-page":5,"sort-by":"votes","sort-desc":""},on:{"update:items":function(e){t.words=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var a=e.item;return[n("v-btn",{attrs:{small:"",color:"error"},on:{click:function(e){return t.deleteWord(a.id)}}},[n("v-icon",[t._v("mdi-delete")])],1)]}}])})],1),n("v-snackbar",{attrs:{right:!0},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[n("v-btn",t._b({attrs:{color:"secondary",text:""},on:{click:function(e){t.snackbarDisplay=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},It=[],At=n("1da1"),Dt=(n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-form",[n("p",[t._v("Choose a file to import (learn) words from. Can be "),n("b",[t._v("any text file")]),t._v(" that has "+t._s(t.langName)+" words or "),n("b",[t._v(".VPF")]),t._v(" [Varnam Pack Files] files downloaded from "),n("a",{attrs:{href:"https://varnamproject.com/packs",target:"_blank"}},[t._v("here.")])]),n("v-file-input",{attrs:{multiple:"",label:"File input"},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}}),n("v-btn",{attrs:{color:"primary",disabled:0===this.files.length},on:{click:t.upload}},[t._v("Upload & Import")])],1),n("br"),n("v-card",{directives:[{name:"show",rawName:"v-show",value:t.log.length>0,expression:"log.length > 0"}],attrs:{flat:"",loading:t.loading}},[n("v-card-subtitle",[t._v("Import Status")]),n("v-card-text",[n("ul",t._l(t.log,(function(e,a){return n("li",{key:a},[t._v(t._s(e))])})),0)])],1)],1)}),Ot=[],Ct=(n("1276"),{name:"ImportFromFile",data:function(){return{files:[],log:[],loading:!1}},computed:{langName:function(){var t=this,e=this.$store.state.langs.find((function(e){return e.Identifier===t.$store.state.settings.lang}));return e?e.DisplayName:""}},methods:{upload:function(){var t=this,e=new FormData;this.files.forEach((function(t){return e.append("files",t)})),this.log=[],this.loading=!0,fetch(this.$VARNAM_API_URL+"/learn/upload/"+this.$store.state.settings.lang,{method:"POST",body:e}).then(function(){var e=Object(At["a"])(regeneratorRuntime.mark((function e(n){var a,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(200!==n.status){e.next=6;break}a=n.body.getReader(),r=function e(n){var r=n.done,s=n.value,i=new TextDecoder("utf-8").decode(s).split("\n").filter((function(t){return 0!==t.length}));if(i.forEach((function(e){return t.log.push(e)})),!r)return a.read().then(e);t.loading=!1,t.$toast("Successfully learnt words in file",{color:"success"})},a.read().then(r),e.next=10;break;case 6:return e.next=8,n.json();case 8:s=e.sent,t.$toast(s.message,{color:"error"});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){console.error("Error:",t)}))}}}),Nt=Ct,Rt=n("23a7"),Lt=Object(f["a"])(Nt,Dt,Ot,!1,null,null,null),jt=Lt.exports;p()(Lt,{VBtn:m["a"],VCard:K["a"],VCardSubtitle:Z["c"],VCardText:Z["d"],VFileInput:Rt["a"],VForm:ht["a"]});var Ft=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-data-table",{staticClass:"packsTable",attrs:{headers:t.headers,items:t.packs,"item-key":"identifier","show-expand":"","show-select":""},on:{"update:items":function(e){t.packs=e},"item-selected":t.onPackSelect,"toggle-select-all":t.onPackSelectAll},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-row",{attrs:{align:"center",justify:"end"}},[n("v-col",{attrs:{l:"10"}},[t._v(" Choose the language packs you need and click download ")]),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{attrs:{depressed:"",color:"primary",disabled:t.downloadBtnDisabled,title:"Download & Import","aria-label":"Download & Import"},on:{click:t.download}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-down-box")]),t._v(" Download ")],1)],1)],1)]},proxy:!0},{key:"item.data-table-select",fn:function(e){var a=e.item,r=e.isSelected,s=e.select;return[a.installed?n("v-icon",{attrs:{color:"success",title:"Installed","aria-label":"Installed"}},[t._v("mdi-checkbox-blank-circle")]):n("div",[n("v-simple-checkbox",{attrs:{ripple:!1,value:r},on:{input:function(t){return s(t)}}})],1)]}},{key:"expanded-item",fn:function(e){var a=e.headers,r=e.item;return[n("td"),n("td",{attrs:{colspan:a.length}},[n("v-data-table",{attrs:{headers:t.versionHeaders,items:r.versions,"hide-default-header":!0,"hide-default-footer":!0,"item-key":"identifier","show-select":""},on:{"update:items":function(e){return t.$set(r,"versions",e)},"item-selected":t.onPackVersionSelect},scopedSlots:t._u([{key:"item.data-table-select",fn:function(e){var a=e.item,r=e.isSelected,s=e.select;return[a.installed?n("v-icon",{attrs:{color:"success",title:"Installed","aria-label":"Installed"}},[t._v("mdi-checkbox-blank-circle")]):n("div",[n("v-simple-checkbox",{attrs:{ripple:!1,value:r},on:{input:function(t){return s(t)}}})],1)]}},{key:"item.size",fn:function(e){var n=e.item;return[t._v(" "+t._s(t._f("formatSize")(n.size))+" ")]}}],null,!0),model:{value:t.packsVersionsSelected,callback:function(e){t.packsVersionsSelected=e},expression:"packsVersionsSelected"}})],1)]}}]),model:{value:t.packsSelected,callback:function(e){t.packsSelected=e},expression:"packsSelected"}}),Object.keys(t.log).length>0?n("v-tabs",{model:{value:t.logTab,callback:function(e){t.logTab=e},expression:"logTab"}},[t._l(t.log,(function(e,a){return n("v-tab",{key:a},[t._v(" "+t._s(a)+" ")])})),t._l(t.log,(function(e,a){return n("v-tab-item",{key:a},[n("v-card",{attrs:{flat:"",loading:e.loading}},[n("v-card-subtitle",[t._v("Import Status")]),n("v-card-text",[n("ul",t._l(e.log,(function(e,a){return n("li",{key:a},[t._v(t._s(e))])})),0)])],1)],1)}))],2):t._e()],1)},Wt=[],Et=(n("d81d"),{name:"ImportFromOnline",data:function(){return{headers:[{text:"Name",sortable:!0,value:"name"},{text:"Description",sortable:!1,value:"description"}],versionHeaders:[{text:"Version",sortable:!1,value:"version"},{text:"Description",sortable:!1,value:"description"},{text:"Size",sortable:!1,value:"size"}],log:{},logLoading:!1,logTab:0,packsInstalled:[],packsFromUpstream:[],packsSelected:[],packsVersionsSelected:[]}},computed:{downloadBtnDisabled:function(){return 0===this.packsVersionsSelected.length},upstreamURL:function(){return this.$store.state.upstreamURL},packs:function(){var t=this;return this.packsFromUpstream.map((function(e,n){var a=0;return e.versions=e.versions.map((function(n){return n.packID=e.identifier,n.installed=t.packsInstalled.indexOf(n.identifier)>-1,n.installed&&a++,n})),e.installed=a===e.versions.length,e}))}},methods:{init:function(){var t=this;window.fetch(window.$VARNAM_API_URL+"/packs/"+this.$store.state.settings.lang).then(function(){var e=Object(At["a"])(regeneratorRuntime.mark((function e(n){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.fetchPacksFromUpstream(),e.next=3,n.json();case 3:a=e.sent,200===n.status?t.packsInstalled=a.reduce((function(t,e){return t.concat(e.versions.reduce((function(t,e){return t.push(e.identifier),t}),[]))}),[]):404===n.status?t.packsInstalled=[]:t.$toast("Local: "+a.message,{color:"error"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fetchPacksFromUpstream:function(){var t=this;window.fetch(this.upstreamURL+"/packs/"+this.$store.state.settings.lang).then((function(t){return t.json()})).then((function(e){t.packsFromUpstream=e instanceof Array?e:[]}))},onPackSelect:function(t){if(t.value)this.packsVersionsSelected=this.packsVersionsSelected.concat(t.item.versions.filter((function(t){return!t.installed})));else{var e=[];t.item.versions.forEach((function(t){return e.push(t.id)})),this.packsVersionsSelected=this.packsVersionsSelected.filter((function(t){return-1===e.indexOf(t.id)}))}},onPackVersionSelect:function(t){var e=this.packs.find((function(e){return e.identifier===t.item.packID})),n=this.packsVersionsSelected.filter((function(e){return e.packID===t.item.packID})),a=e.versions.filter((function(t){return!t.installed}));a.length===n.length+(t.value?1:-1)?this.packsSelected.push(e):this.packsSelected=this.packsSelected.filter((function(e){return e.identifier!==t.item.packID}))},onPackSelectAll:function(t){if(t.value){var e=this.packs.reduce((function(t,e){return t.concat(e.versions.filter((function(t){return!t.installed})))}),[]);this.packsVersionsSelected=e}else this.packsVersionsSelected=[]},downloadPack:function(t){var e=this,n=t.identifier;return new Promise((function(a,r){e.$set(e.log,n,{loading:!0,log:["Downloading pack..."]}),window.fetch(e.$VARNAM_API_URL+"/packs/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:e.$store.state.settings.lang,pack:t.packID,version:n})}).then(function(){var s=Object(At["a"])(regeneratorRuntime.mark((function s(i){var o,l,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(200!==i.status){s.next=6;break}o=i.body.getReader(),l=function r(s){var i=s.done,l=s.value,c=new TextDecoder("utf-8").decode(l).split("\n").filter((function(t){return 0!==t.length}));if(c.forEach((function(t){return e.$set(e.log[n].log,e.log[n].log.length,t)})),!i)return o.read().then(r);e.$set(e.log[n],"loading",!1),e.$toast("Successfully imported pack",{color:"success"}),e.packsInstalled.push(t.identifier),a()},o.read().then(l),s.next=13;break;case 6:return s.next=8,i.json();case 8:c=s.sent,e.$toast(c.message,{color:"error"}),e.$set(e.log[n],"loading",!1),e.$set(e.log[n].log,e.log[n].log.length,c.message),r(new Error(c.message));case 13:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}())}))},download:function(){var t=this;this.packsVersionsSelected.forEach(function(){var e=Object(At["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.downloadPack(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},created:function(){var t=this;this.init(),this.$store.subscribe((function(e){"setUpstream"===e.type&&t.fetchPacksFromUpstream()}))},mounted:function(){var t=this;this.init(),this.$store.subscribe((function(e){"updateSettings"===e.type&&t.init()}))}}),Pt=Et,Ut=(n("810e"),n("9e88")),Mt=n("71a3"),Bt=n("c671"),qt=n("fe57"),zt=Object(f["a"])(Pt,Ft,Wt,!1,null,null,null),Ht=zt.exports;p()(zt,{VBtn:m["a"],VCard:K["a"],VCardSubtitle:Z["c"],VCardText:Z["d"],VCol:mt["a"],VDataTable:yt["a"],VIcon:h["a"],VRow:bt["a"],VSimpleCheckbox:Ut["a"],VTab:Mt["a"],VTabItem:Bt["a"],VTabs:qt["a"]});var Jt={name:"AddWordsOffline",components:{AddWordForm:wt,ImportFromFile:jt,ImportFromOnline:Ht},computed:{langName:function(){var t=this,e=this.$store.state.langs.find((function(e){return e.Identifier===t.$store.state.settings.lang}));return e?e.DisplayName:""},vtab:{set:function(t){this.$router.replace({query:Object(lt["a"])(Object(lt["a"])({},this.$route.query),{},{vtab:t})})},get:function(){return this.$route.query.vtab}}},data:function(){return{snackbarDisplay:!1,snackbarText:!1,wordToLearn:"",wordToDelete:"",headers:[{text:"",sortable:!1,value:"action",width:10},{text:"Word",sortable:!0,value:"word"},{text:"Pattern",sortable:!0,value:"pattern"}],words:[]}},methods:{init:function(){var t=this;this.$VARNAM_OFFLINE||this.$VARNAM_IDB.getWordsStore().then((function(e){e.getAll().onsuccess=function(e){t.words=e.target.result}}))},learnWord:function(){var t=this,e=this.wordToLearn.trim();""===e&&(this.snackbarText="Some inputs were empty",this.snackbarDisplay=!0),fetch(this.$VARNAM_API_URL+"/learn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:this.$store.state.settings.lang,text:e})}).then((function(n){200===n.status&&(t.snackbarText='Succesfully learnt word "'.concat(e,'"'),t.snackbarDisplay=!0,t.wordToLearn="")}))},addWord:function(t){var e=this;""!==t.pattern.trim()&&""!==t.word.trim()||(this.snackbarText="Some inputs were empty",this.snackbarDisplay=!0),this.$VARNAM_OFFLINE?fetch(this.$VARNAM_API_URL+"/train/"+this.$store.state.settings.lang,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pattern:t.pattern,word:t.word})}).then((function(n){200===n.status&&(e.snackbarText='Succesfully trained "'.concat(t.pattern,'" => "').concat(t.word,'"'),e.snackbarDisplay=!0,e.wordToLearn="")})):this.$VARNAM_IDB.getWordsStore().then((function(n){var a=n.add(t);a.onsuccess=function(){e.snackbarText="Word was addedd successfully",e.snackbarDisplay=!0,e.init()},a.onerror=function(t){console.log(t)}}))},deleteWord:function(t){var e=this;this.$VARNAM_OFFLINE?fetch(this.$VARNAM_API_URL+"/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:this.$store.state.settings.lang,word:this.wordToDelete})}).then(function(){var t=Object(At["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200!==n.status){t.next=6;break}e.snackbarText='Succesfully deleted word "'.concat(e.wordToDelete,'"'),e.snackbarDisplay=!0,e.wordToLearn="",t.next=11;break;case 6:return t.next=8,n.json();case 8:n=t.sent,e.snackbarText="Error: ".concat(n.message),e.snackbarDisplay=!0;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.$VARNAM_IDB.getWordsStore().then((function(n){n.delete(t),e.init()}))}},mounted:function(){this.init()}},Gt=Jt,Kt=Object(f["a"])(Gt,Tt,It,!1,null,null,null),Zt=Kt.exports;p()(Kt,{VBtn:m["a"],VCard:K["a"],VCardSubtitle:Z["c"],VCardText:Z["d"],VCardTitle:Z["e"],VCol:mt["a"],VDataTable:yt["a"],VIcon:h["a"],VRow:bt["a"],VSnackbar:Vt["a"],VTab:Mt["a"],VTabItem:Bt["a"],VTabs:qt["a"],VTextField:gt["a"]});var Yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{attrs:{flat:"",tile:""}},[n("v-card-title",[t._v("Editor")]),n("v-card-text",[n("v-text-field",{attrs:{type:"number",label:"Font Size",outlined:"","hide-details":!0},model:{value:t.fontSize,callback:function(e){t.fontSize=e},expression:"fontSize"}})],1)],1)],1)},Qt=[],Xt={name:"EditorSettings",data:function(){return{}},computed:{fontSize:{get:function(){return this.$store.state.settings.fontSize},set:function(t){this.$store.commit("updateSettings",{fontSize:t})}}},methods:{init:function(){}},mounted:function(){this.init()}},te=Xt,ee=Object(f["a"])(te,Yt,Qt,!1,null,null,null),ne=ee.exports;p()(ee,{VCard:K["a"],VCardText:Z["d"],VCardTitle:Z["e"],VTextField:gt["a"]});var ae=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",{attrs:{flat:"",tile:"",loading:t.loading}},[n("v-card-title",[t._v("Languages")]),n("v-card-actions",[n("p",{staticStyle:{"font-weight":"initial"}},[t._v(" Setting up languages from here requires internet. You can also download language files ("),n("b",[t._v(".VST")]),t._v(") from "),n("a",{attrs:{target:"_blank",href:"https://varnamproject.com/downloads"}},[t._v("here")]),t._v(" and set it up manually. ")]),n("v-spacer"),n("v-btn",{attrs:{depressed:"",color:"primary",disabled:t.downloadBtnDisabled,title:"Download & Import","aria-label":"Download & Import"},on:{click:t.download}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-down-box")]),t._v(" Download & Install ")],1)],1),n("v-card-text",[n("v-data-table",{attrs:{headers:t.headers,items:t.langs,loading:t.tableLoading,"sort-by":"DisplayName","item-key":"Identifier","show-select":"","items-per-page":20},on:{"update:items":function(e){t.langs=e}},scopedSlots:t._u([{key:"item.installed",fn:function(e){var a=e.item;return[t.langsInstalled.find((function(t){return t.Identifier===a.Identifier}))?n("div",[t.langsDownloadable.indexOf(a.Identifier)>-1?n("v-icon",{attrs:{color:"warning",title:"Update available","aria-label":"Update available"}},[t._v("mdi-checkbox-blank-circle")]):n("v-icon",{attrs:{color:"success",title:"Installed","aria-label":"Installed"}},[t._v("mdi-checkbox-blank-circle")]),t._v(" "+t._s(t.langsInstalled.find((function(t){return t.Identifier===a.Identifier})).CompiledDate.split(" ")[0])+" ")],1):t._e()]}}]),model:{value:t.selectedLangs,callback:function(e){t.selectedLangs=e},expression:"selectedLangs"}})],1)],1),n("v-snackbar",{attrs:{right:!0},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[n("v-btn",t._b({attrs:{color:t.snackbarColor,text:""},on:{click:function(e){t.snackbarDisplay=!1}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},re=[],se={name:"LanguageDownload",computed:{downloadBtnDisabled:function(){var t=this;return!this.selectedLangs.find((function(e){return t.langsDownloadable.indexOf(e.Identifier)>-1}))},upstreamURL:function(){return this.$store.state.upstreamURL},langsInstalled:function(){return this.$store.state.langs},langsDownloadable:function(){var t=this,e=this.langs.filter((function(e){var n=t.langsInstalled.find((function(t){return t.Identifier===e.Identifier}));return!n||e.CompiledDate>n.CompiledDate}));return e.reduce((function(t,e){return t.concat(e.Identifier)}),[])}},data:function(){return{snackbarColor:"secondary",snackbarDisplay:!1,snackbarText:!1,loading:!1,tableLoading:!1,headers:[{text:"Name",value:"DisplayName"},{text:"Author",value:"Author"},{text:"Updated",value:"CompiledDate"},{text:"Installed",value:"installed"}],langs:[],selectedLangs:[]}},methods:{init:function(){var t=this;this.tableLoading=!0,window.fetch(this.upstreamURL+"/languages").then((function(t){return t.json()})).then((function(e){t.tableLoading=!1,t.langs=e}))},download:function(){var t=this,e=this.selectedLangs.filter((function(e){return t.langsDownloadable.indexOf(e.Identifier)>-1}));e=e.reduce((function(t,e){return t.concat(e.Identifier)}),[]);var n=0;e.forEach((function(a){t.loading=!0,window.fetch(t.$VARNAM_API_URL+"/download-language",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:a})}).then(function(){var r=Object(At["a"])(regeneratorRuntime.mark((function r(s){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.loading=!1,200!==s.status){r.next=5;break}++n===e.length?t.$toast("All selected languages downloaded. Restart app for changes to take effect.",{color:"secondary"}):t.$toast("Language '".concat(a,"' downloaded"),{color:"secondary"}),r.next=9;break;case 5:return r.next=7,s.json();case 7:s=r.sent,t.$toast(s.message,{color:"error"});case 9:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())}))}},created:function(){var t=this;this.init(),this.$store.subscribe((function(e){"setUpstream"===e.type&&t.init()}))}},ie=se,oe=Object(f["a"])(ie,ae,re,!1,null,null,null),le=oe.exports;p()(oe,{VBtn:m["a"],VCard:K["a"],VCardActions:Z["b"],VCardText:Z["d"],VCardTitle:Z["e"],VDataTable:yt["a"],VIcon:h["a"],VSnackbar:Vt["a"],VSpacer:$["a"]});var ce=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{attrs:{padless:!0}},[n("v-card",{staticClass:"text-center",attrs:{flat:"",tile:"",width:"100%"}},[n("v-card-text",[t._v(" Need Help ? Feedback ? "),n("a",{attrs:{href:"https://indicproject.org/",target:"_blank"}},[t._v("Contact Us")]),n("br"),n("br"),n("a",{attrs:{href:"https://varnamproject.com/",target:"_blank"}},[t._v("Varnam")]),t._v(" is a Free Software underÂ "),n("a",{attrs:{href:"https://indicproject.org/",target:"_blank"}},[t._v("Indic Project")]),t._v(". Copyright 2020, "),n("a",{attrs:{href:"https://github.com/varnamproject/editor/graphs/contributors",target:"_blank"}},[t._v("Varnam Contributors")]),t._v(". ")])],1)],1)},de=[],ue={name:"Footer"},fe=ue,ve=n("553a"),pe=Object(f["a"])(fe,ce,de,!1,null,null,null),me=pe.exports;p()(pe,{VCard:K["a"],VCardText:Z["d"],VFooter:ve["a"]});var he={name:"Settings",components:{AddWordsOnline:$t,AddWordsOffline:Zt,EditorSettings:ne,LanguageDownload:le,Footer:me},computed:{tab:{set:function(t){this.$router.replace({query:Object(lt["a"])(Object(lt["a"])({},this.$route.query),{},{tab:t})})},get:function(){return this.$route.query.tab}},vtab:{set:function(t){this.$router.replace({query:Object(lt["a"])(Object(lt["a"])({},this.$route.query),{},{vtab:t})})},get:function(){return this.$route.query.vtab}}}},be=he,ge=n("ce7e"),_e=n("0e8f"),we=n("a722"),xe=n("9a96"),ke=Object(f["a"])(be,it,ot,!1,null,null,null),ye=ke.exports;p()(ke,{VCard:K["a"],VCardText:Z["d"],VContainer:at["a"],VDivider:ge["a"],VFlex:_e["a"],VIcon:h["a"],VLayout:we["a"],VTab:Mt["a"],VTabItem:Bt["a"],VTabs:qt["a"],VTabsSlider:xe["a"]});var Ve=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-layout",{staticClass:"d-flex justify-center"},[n("v-flex",{attrs:{xs11:"",xl6:""}},[n("v-tabs",{attrs:{grow:!0,"show-arrows":!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[n("v-tabs-slider"),n("v-tab",{attrs:{href:"#scheme"}},[n("v-icon",[t._v("lead-pencil")]),t._v(" Scheme ")],1),n("v-tab",{attrs:{href:"#reverse"}},[n("v-icon",[t._v("lead-pencil")]),t._v(" How To Write A Word ")],1),n("v-tab",{attrs:{href:"#credits"}},[n("v-icon",[t._v("lead-pencil")]),t._v(" Credits ")],1),n("v-tab-item",{attrs:{value:"scheme"}},[n("v-card",{attrs:{loading:t.schemeCardLoading}},[n("v-card-text",[n("p",[t._v("This page shows which key is mapped to each letter."),n("br"),n("b",[t._v('"Primary"')]),t._v(" is the "),n("b",[t._v("highest")]),t._v(" priority primary key combination for a letter."),n("br"),n("b",[t._v('"Secondary"')]),t._v(" is only a secondary key for a letter.")])]),n("v-card-title",[t.tableTitle?n("p",{staticClass:"text-h4 text--primary"},[n("v-btn",{staticClass:"ma-2",attrs:{to:"/scheme",color:"primary",depressed:""}},[n("v-icon",{attrs:{left:t.icon}},[t._v("mdi-arrow-left")]),n("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Back")])],1),t._v(" "+t._s(t.tableTitle)+" ")],1):n("v-btn",{attrs:{color:"primary"},on:{click:t.toggleAllGroups}},[t._v(t._s(t.groupsOpened>0?"Close All":"Open All"))]),n("v-spacer"),n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("v-data-table",{attrs:{headers:t.headers,items:t.definitions,"items-per-page":-1,"group-by":"Category",search:t.search,"custom-sort":t.schemeTableSortFunc,dense:""},scopedSlots:t._u([{key:"group.header",fn:function(e){var a=e.group,r=e.headers,s=e.toggle,i=e.isOpen;return[n("td",{attrs:{colspan:r.length}},[n("v-btn",{ref:a,attrs:{"x-small":"",icon:"",opened:i},on:{click:function(){s(),t.updateGroupsOpen()}}},[n("v-icon",i?[t._v("mdi-minus")]:[t._v("mdi-plus")])],1),n("span",{staticClass:"mx-5 text-subtitle-1 font-weight-bold"},[t._v(t._s(a))])],1)]}},{key:"item.Letter",fn:function(e){var a=e.item;return[n("router-link",{staticClass:"text-h6",attrs:{to:"/scheme/"+a.Letter}},[t._v(t._s(a.Letter))])]}}])})],1)],1),n("v-tab-item",{attrs:{value:"reverse"}},[n("v-card",[n("v-card-text",[n("v-form",{staticClass:"d-flex flex-row flex-grow-1",on:{submit:t.reverseTransliterate}},[n("v-text-field",{staticClass:"flex-grow-1",attrs:{"append-icon":"mdi-magnify",label:"Type "+t.schemeDisplayName+" words here...","single-line":"","hide-details":""},model:{value:t.reverseTransliterateInput,callback:function(e){t.reverseTransliterateInput=e},expression:"reverseTransliterateInput"}}),n("v-btn",{staticClass:"flex-shrink-0 ml-4 align-self-center",attrs:{color:"primary",type:"submit"}},[t._v("Find")])],1),n("p",{staticClass:"mt-2"},[t._v("Find different ways to write a "+t._s(t.schemeDisplayName)+" word. This is reverse transliteration.")]),t._l(t.reverseTransliterationResult,(function(e,a){return n("v-list-item",{key:a},[n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(a+1)+". "+t._s(e))])],1)],1)}))],2)],1)],1),n("v-tab-item",{attrs:{value:"credits"}},[n("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[n("tbody",t._l(Object.keys(t.details),(function(e){return n("tr",{key:e},[n("td",[t._v(t._s(e))]),n("td",[t._v(t._s(t.details[e]))])])})),0)]},proxy:!0}])})],1)],1)],1)],1),n("br"),n("v-divider"),n("Footer")],1)},Se=[],$e=(n("a15b"),n("b64b"),n("4e827"),{name:"Settings",components:{Footer:me},data:function(){return{tableTitle:"",details:{},schemeCardLoading:!1,definitions:[],headers:[{text:"Letter",align:"start",value:"Letter",groupable:!0,width:"15%"},{text:"Primary",value:"Exact",width:"20%"},{text:"Secondary",value:"Possibility",width:"20%"},{text:""}],search:"",reverseTransliterateInput:"",reverseTransliterationResult:[],groupsOpened:1}},computed:{tab:{set:function(t){"scheme"===t?this.$router.replace({query:{}}):this.$router.replace({query:Object(lt["a"])(Object(lt["a"])({},this.$route.query),{},{tab:t})})},get:function(){return""===this.$route.query.tab?"scheme":this.$route.query.tab}},vtab:{set:function(t){this.$router.replace({query:Object(lt["a"])(Object(lt["a"])({},this.$route.query),{},{vtab:t})})},get:function(){return this.$route.query.vtab}},schemeID:function(){return this.$store.state.settings.lang},schemeDisplayName:function(){var t=this,e=this.$store.state.langs.find((function(e){return e.Identifier===t.$store.state.settings.lang}));return e?e.DisplayName:""}},methods:{init:function(){var t=this;this.schemeCardLoading=!0;var e=this.$VARNAM_API_URL+"/schemes/"+this.schemeID+"/definitions";this.$route.params.letter?(e+="/"+this.$route.params.letter,this.tableTitle=this.$route.params.letter):this.tableTitle="",fetch(e).then((function(t){return t.json()})).then((function(e){t.details=e.Details,t.definitions=e.Definitions.map((function(t){return t.Exact=t.Exact&&t.Exact.join(", "),t.Possibility=t.Possibility&&t.Possibility.join(", "),t})),t.schemeCardLoading=!1,t.$nextTick((function(){t.updateGroupsOpen(),t.groupsOpened>0&&t.toggleAllGroups()}))}))},toggleAllGroups:function(){var t=this,e=!1;this.groupsOpened>0&&(e=!0),Object.keys(this.$refs).forEach((function(n){if(t.$refs[n]){var a=t.$refs[n].$el;e&&a.hasAttribute("opened")&&a.click(),e||a.hasAttribute("opened")||a.click()}})),this.updateGroupsOpen()},updateGroupsOpen:function(){var t=this;this.$nextTick((function(){var e=0;Object.keys(t.$refs).forEach((function(n){if(t.$refs[n]){var a=t.$refs[n].$el;a.hasAttribute("opened")&&e++}})),t.groupsOpened=e}))},reverseTransliterate:function(t){var e=this;t.preventDefault();var n=encodeURIComponent(this.reverseTransliterateInput);fetch(this.$VARNAM_API_URL+"/rtl/"+this.schemeID+"/"+n).then((function(t){return t.json()})).then((function(t){e.reverseTransliterationResult=t.result}))},schemeTableSortFunc:function(t,e,n){return t.sort((function(t,n){t=t[e[0]],n=n[e[0]];var a=/^[A-Za-z0-9]*$/.test(t.substr(0,1)),r=/^[A-Za-z0-9]*$/.test(n.substr(0,1));return a&&r?t>n:a&&!r?1:!a&&r?-1:t.localeCompare(n)}))}},mounted:function(){var t=this;this.init(),this.$store.subscribe((function(e){"updateSettings"===e.type&&t.init()}))},watch:{$route:function(t,e){this.init()}}}),Te=$e,Ie=n("5d23"),Ae=n("1f4f"),De=Object(f["a"])(Te,Ve,Se,!1,null,null,null),Oe=De.exports;p()(De,{VBtn:m["a"],VCard:K["a"],VCardText:Z["d"],VCardTitle:Z["e"],VContainer:at["a"],VDataTable:yt["a"],VDivider:ge["a"],VFlex:_e["a"],VForm:ht["a"],VIcon:h["a"],VLayout:we["a"],VListItem:b["a"],VListItemContent:Ie["g"],VListItemTitle:Ie["k"],VSimpleTable:Ae["a"],VSpacer:$["a"],VTab:Mt["a"],VTabItem:Bt["a"],VTabs:qt["a"],VTabsSlider:xe["a"],VTextField:gt["a"]}),a["default"].use(F["a"]);var Ce=[{path:"/",name:"Home",component:st},{path:"/settings",name:"Settings",component:ye},{path:"/scheme",name:"Scheme",component:Oe},{path:"/scheme/:letter",name:"SchemeLetter",component:Oe}],Ne=new F["a"]({routes:Ce}),Re=Ne,Le=n("2f62");a["default"].use(Le["a"]);var je=new Le["a"].Store({state:{currentWord:0,setupDialog:!1,langs:[],upstreamURL:"",suggestionsDisplay:[],suggestions:{},alternateWords:{},settings:{lang:"ml",fontSize:14},idbWords:{}},mutations:{initSettings:function(t){var e=window.localStorage.getItem("varnam-settings");e&&(e=JSON.parse(e),t.settings=Object.assign({},t.settings,e))},updateSettings:function(t,e){a["default"].set(t,"settings",Object(lt["a"])(Object(lt["a"])({},t.settings),e)),window.localStorage.setItem("varnam-settings",JSON.stringify(t.settings))},setCurrentWord:function(t,e){t.currentWord=e},setSuggestions:function(t,e){a["default"].set(t.suggestions,e.id,e.suggestions)},clearSuggestions:function(t,e){a["default"].delete(t.suggestions,e)},displaySuggestions:function(t,e){t.suggestionsDisplay=e},hideSuggestions:function(t){t.suggestionsDisplay=[]},setLangs:function(t,e){e.sort((function(t,e){return t.Identifier.localeCompare(e.Identifier)})),t.langs=e,0===e.length&&(t.setupDialog=!0)},setUpstream:function(t,e){t.upstreamURL=e},setIDBWords:function(t,e){var n={};e.forEach((function(t){n[t.pattern]=t.word})),t.idbWords=n},hideSetupDialog:function(t){t.setupDialog=!1},requestSend:function(){},chooseSuggestion:function(){}},actions:{},modules:{}}),Fe=n("f309"),We=n("ffa5"),Ee=n.n(We);a["default"].use(Fe["a"],{components:{VSnackbar:Vt["a"],VBtn:m["a"],VIcon:h["a"]}}),a["default"].use(Ee.a);var Pe=new Fe["a"]({theme:{themes:{light:{primary:"#4c5df5",secondary:"#00bcd4",accent:"#03a9f4",error:"#e91e63",warning:"#ffc107",info:"#2196f3",success:"#4caf50"}}}});a["default"].config.productionTip=!1,window.$VARNAM_OFFLINE=!1,window.$VARNAM_API_URL="https://varnam.subinsb.com",window.$VARNAM_REVIEW_URL="https://varnam.subinsb.com:8124",a["default"].prototype.$VARNAM_OFFLINE=window.$VARNAM_OFFLINE,a["default"].prototype.$VARNAM_API_URL=window.$VARNAM_API_URL,a["default"].prototype.$VARNAM_REVIEW_URL=window.$VARNAM_REVIEW_URL,window.fetch(window.$VARNAM_API_URL+"/languages").then((function(t){return t.json()})).then((function(t){je.commit("setLangs",t)})),je.commit("initSettings"),window.$VARNAM_OFFLINE&&window.fetch(window.$VARNAM_API_URL+"/get/upstream-url").then((function(t){return t.text()})).then((function(t){je.commit("setUpstream",t)})),a["default"].prototype.$LINK_OPEN_CLICK=function(t){};var Ue=1;a["default"].prototype.$VARNAM_IDB={getDB:function(){return new Promise((function(t){var e=window.indexedDB.open("varnam-"+je.state.settings.lang,Ue);e.onupgradeneeded=function(t){var n=e.result;switch(t.oldVersion){case 0:n.createObjectStore("words",{keyPath:"id",autoIncrement:!0});break;case 1:}},e.onerror=function(){console.error("IndexedDB Error",e.error)},e.onsuccess=function(e){var n=e.target.result;t(n),n.onversionchange=function(){n.close(),window.alert("Database is outdated, please reload the page.")}}}))},getWordsStore:function(){var t=this;return new Promise((function(e){return t.getDB().then((function(t){var n=t.transaction("words","readwrite"),a=n.objectStore("words");e(a),t.close()}))}))},fetchWords:function(){this.getWordsStore().then((function(t){t.getAll().onsuccess=function(t){je.commit("setIDBWords",t.target.result)}}))}},a["default"].filter("formatSize",(function(t){return t>1099511627776?(t/1024/1024/1024/1024).toFixed(2)+" TB":t>1073741824?(t/1024/1024/1024).toFixed(2)+" GB":t>1048576?(t/1024/1024).toFixed(2)+" MB":t>1024?(t/1024).toFixed(2)+" KB":t.toString()+" B"})),new a["default"]({router:Re,store:je,vuetify:Pe,render:function(t){return t(L)}}).$mount("#app")},8032:function(t,e,n){},"810e":function(t,e,n){"use strict";n("8032")},"85ec":function(t,e,n){}});
//# sourceMappingURL=app.8614c6a7.js.map