(function(t){function e(e){for(var n,i,o=e[0],l=e[1],c=e[2],u=0,f=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);d&&d(e);while(f.length)f.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==r[l]&&(n=!1)}n&&(s.splice(e--,1),t=i(i.s=a[0]))}return t}var n={},r={app:0},s=[];function i(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=n,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/editor/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("d3b7"),a("4de4"),a("b680"),a("25f0");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("navbar"),a("transition",{attrs:{name:"slide"}},[a("keep-alive",{attrs:{include:"Home"}},[a("router-view")],1)],1)],1)},s=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",[a("v-app-bar-nav-icon",{staticClass:"primary--text",on:{click:function(e){t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"title"},[a("router-link",{staticClass:"primary--text text-decoration-none",attrs:{to:"/"}},[t._v(" Varnam ")])],1),a("v-spacer"),a("v-select",{staticClass:"flex-grow-0 flex-shrink-1 d-none d-sm-block",attrs:{items:t.langs,"hide-details":!0,label:"Language",outlined:"",dense:""},model:{value:t.lang,callback:function(e){t.lang=e},expression:"lang"}}),a("NavbarButtons",{attrs:{list:!1}})],1),a("v-navigation-drawer",{staticClass:"primary--text",attrs:{app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",[a("v-list-item",{on:{click:function(e){t.drawer=!t.drawer}}},[a("v-app-bar-nav-icon",{staticClass:"primary--text"}),a("span",{staticClass:"primary--text text-decoration-none"},[t._v(" Varnam ")])],1),a("v-list-item",{staticClass:"mt-4"},[a("v-select",{staticClass:"flex-grow-0 flex-shrink-1",attrs:{items:t.langs,"hide-details":!0,label:"Language",outlined:"",dense:""},model:{value:t.lang,callback:function(e){t.lang=e},expression:"lang"}})],1),a("NavbarButtons",{staticClass:"mt-4",attrs:{list:!0}})],1)],1)],1)},o=[],l=(a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.list?a("div",[a("v-list-item",["Home"==t.$route.name?a("v-btn",{attrs:{to:"/settings",color:"primary",depressed:"",block:""}},[a("v-icon",{attrs:{left:t.icon}},[t._v("mdi-cog")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Settings")])],1):a("v-btn",{attrs:{to:"/",color:"primary",depressed:"",block:""}},[a("v-icon",{attrs:{left:t.icon}},[t._v("mdi-arrow-left")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Back")])],1)],1),a("v-list-item",[a("v-btn",{attrs:{to:"/scheme",color:"primary",depressed:"",block:""}},[a("v-icon",{attrs:{left:t.icon}},[t._v("mdi-information-outline")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Help")])],1)],1)],1):a("div",["Home"==t.$route.name?a("v-btn",{staticClass:"ma-2",attrs:{to:"/settings",color:"primary",depressed:""}},[a("v-icon",{attrs:{left:t.icon}},[t._v("mdi-cog")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Settings")])],1):a("v-btn",{staticClass:"ma-2",attrs:{to:"/",color:"primary",depressed:""}},[a("v-icon",{attrs:{left:t.icon}},[t._v("mdi-arrow-left")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Back")])],1),a("v-btn",{staticClass:"ma-2",attrs:{to:"/scheme",color:"primary",depressed:""}},[a("v-icon",{attrs:{left:t.icon}},[t._v("mdi-information-outline")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Help")])],1)],1)}),c=[],d=(a("b0c0"),{name:"NavbarButtons",props:{list:{default:!0}},computed:{icon:function(){return{xs:this.list,sm:this.list,md:!0,lg:!0,xl:!0}[this.$vuetify.breakpoint.name]},iconText:function(){return{xs:this.list,sm:this.list,md:!0,lg:!0,xl:!0}[this.$vuetify.breakpoint.name]}}}),u=d,f=a("2877"),p=a("6544"),v=a.n(p),m=a("8336"),h=a("132d"),g=a("da13"),b=Object(f["a"])(u,l,c,!1,null,null,null),_=b.exports;v()(b,{VBtn:m["a"],VIcon:h["a"],VListItem:g["a"]});var w={components:{NavbarButtons:_},name:"Navbar",data:function(){return{drawer:!1}},computed:{langs:function(){var t=[];return this.$store.state.langs.forEach((function(e){t.push({text:e.DisplayName,value:e.Identifier})})),t},lang:{get:function(){return this.$store.state.settings.lang},set:function(t){this.$store.commit("updateSettings",{lang:t})}}}},x=w,k=a("5bc1"),y=a("8860"),V=a("f774"),S=a("b974"),$=a("2fa4"),T=a("71d9"),I=a("2a7f"),A=Object(f["a"])(x,i,o,!1,null,null,null),D=A.exports;v()(A,{VAppBarNavIcon:k["a"],VList:y["a"],VListItem:g["a"],VNavigationDrawer:V["a"],VSelect:S["a"],VSpacer:$["a"],VToolbar:T["a"],VToolbarTitle:I["c"]});var O={name:"App",components:{Navbar:D},data:function(){return{}}},C=O,N=(a("034f"),a("7496")),R=Object(f["a"])(C,r,s,!1,null,null,null),L=R.exports;v()(R,{VApp:N["a"]});var j,F=a("8c4f"),P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("v-container",{staticClass:"main",attrs:{fluid:t.fluid}},[a("Editor")],1)],1)},W=[],E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"textarea"},[a("v-textarea",{ref:"editor",style:"font-size: "+t.$store.state.settings.fontSize+"px",attrs:{outlined:"",name:"translate",label:"Type here...",rows:"20",autofocus:!0},model:{value:t.inputText,callback:function(e){t.inputText=e},expression:"inputText"}}),a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.setupDialog,callback:function(e){t.setupDialog=e},expression:"setupDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v(" No Varnam Languages Found ")]),a("v-card-text",[t._v("Varnam couldn't find any languages set up. This looks like a first install. Set up languages to use Varnam.")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:"",to:"/settings"},on:{click:function(e){t.setupDialog=!1}}},[t._v(" Set Up Languages ")])],1)],1)],1)],1)},U=[],M=(a("498a"),a("99af"),a("9963")),B=(a("fdbf5"),[]),q=[],z=[],H={name:"Editor",data:function(){return{inputText:"",alternateWords:[]}},computed:{setupDialog:{get:function(){return this.$store.state.setupDialog},set:function(){this.$store.commit("hideSetupDialog")}},lang:function(){return this.$store.state.settings.lang},suggestions:function(){return this.$store.state.suggestions}},methods:{init:function(){var t=this,e=new M["a"]({values:function(e,a){console.log(e,q),q[e]?a(q[e]):t.transliterate(e).then((function(t){if(t){B=[];for(var n=0;n<t.length;n++){var r={key:e,value:t[n].trim()};B.push(r)}a(B)}}))},menuItemTemplate:function(e){return'<span style="font-size: '+t.$store.state.settings.fontSize+'px">'+e.original.value+"</span>"}});j=this.$refs.editor.$el.getElementsByTagName("textarea")[0],e.attach(j),j.addEventListener("tribute-replaced",(function(t){console.log(B),q[t.detail.item.original.value]=B})),this.$VARNAM_OFFLINE||(this.$VARNAM_IDB.fetchWords(),this.$store.subscribe((function(e){"updateSettings"===e.type&&t.$VARNAM_IDB.fetchWords()})))},transliterate:function(t){var e=this;return new Promise((function(a,n){var r=[];t=encodeURIComponent(t),!e.$VARNAM_OFFLINE&&e.$store.state.idbWords[t]?(r=e.$store.state.idbWords[t],a(r)):(z[t]=new AbortController,e.$store.commit("requestSend"),fetch(e.$VARNAM_API_URL+"/tl/".concat(e.lang,"/").concat(t),{signal:z[t].signal}).then((function(t){return t.json()})).then((function(e){r=e.result,a(r),delete z[t]})))}))}},mounted:function(){this.init()}},J=H,G=a("b0af"),K=a("99d9"),Z=a("169a"),Y=a("a844"),Q=Object(f["a"])(J,E,U,!1,null,null,null),X=Q.exports;v()(Q,{VBtn:m["a"],VCard:G["a"],VCardActions:K["b"],VCardText:K["d"],VCardTitle:K["e"],VDialog:Z["a"],VSpacer:$["a"],VTextarea:Y["a"]});var tt={name:"Home",components:{Editor:X},computed:{fluid:function(){var t=this.$vuetify.breakpoint.name;return"md"===t||"sm"===t||"xs"===t}}},et=tt,at=a("a523"),nt=Object(f["a"])(et,P,W,!1,null,"220e5613",null),rt=nt.exports;v()(nt,{VContainer:at["a"]});var st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{staticClass:"d-flex justify-center"},[a("v-flex",{attrs:{xs11:"",xl6:""}},[a("v-tabs",{attrs:{grow:!0,"show-arrows":!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#editor"}},[a("v-icon",[t._v("lead-pencil")]),t._v(" Editor ")],1),a("v-tab",{attrs:{href:"#words"}},[a("v-icon",[t._v("lead-pencil")]),t._v(" Words ")],1),a("v-tab-item",{attrs:{value:"editor"}},[a("EditorSettings"),t.$VARNAM_OFFLINE?a("LanguageDownload"):t._e()],1),a("v-tab-item",{attrs:{value:"words"}},[t.$VARNAM_OFFLINE?a("div",[a("AddWordsOffline")],1):a("div",[a("v-tabs",{attrs:{vertical:!0},model:{value:t.vtab,callback:function(e){t.vtab=e},expression:"vtab"}},[a("v-tab",{attrs:{href:"#offline"}},[t._v("Offline")]),a("v-tab",{attrs:{href:"#online"}},[t._v("Online")]),a("v-tab-item",{attrs:{value:"offline"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("AddWordsOffline")],1)],1)],1),a("v-tab-item",{attrs:{value:"online"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("AddWordsOnline")],1)],1)],1)],1)],1)])],1)],1)],1),a("br"),a("v-divider"),a("Footer")],1)},it=[],ot=a("5530"),lt=(a("ac1f"),a("5319"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("AddWordForm",{on:{addWord:t.addWord}}),a("v-data-table",{staticClass:"text-h4",attrs:{headers:t.headers,items:t.words,"sort-by":"votes","sort-desc":""},on:{"update:items":function(e){t.words=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var n=e.item;return[a("v-btn",{attrs:{depressed:"",color:n.voted?"primary":"",title:"Vote","aria-label":"Vote suggestion"},on:{click:function(e){return t.vote(n._id)}}},[a("v-icon",[t._v("mdi-arrow-up-box")]),t._v(" "+t._s(n.votes)+" ")],1)]}}])}),a("v-snackbar",{attrs:{right:!0},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"secondary",text:""},on:{click:function(e){t.snackbarDisplay=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)}),ct=[],dt=(a("7db0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"addwords"},[a("v-form",[a("v-row",{attrs:{cols:"12",md:"4",align:"center"}},[a("v-col",{attrs:{cols:"5"}},[a("v-text-field",{attrs:{label:"Pattern in English","hide-details":!0,outlined:"",color:"primary"},model:{value:t.pattern,callback:function(e){t.pattern=e},expression:"pattern"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Word in "+t.langName,"hide-details":!0,outlined:"",color:"primary"},model:{value:t.word,callback:function(e){t.word=e},expression:"word"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-btn",{attrs:{large:"",color:"primary"},on:{click:t.addWord}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" Add Word ")],1)],1)],1),t.pattern.length>0&&t.word.length>0?a("p",[t._v("Typing "),a("b",[t._v(t._s(t.pattern))]),t._v(" will show the suggestion "),a("b",[t._v(t._s(t.word))]),t._v(".")]):t._e()],1)],1)}),ut=[],ft={name:"AddWordsForm",data:function(){return{word:"",pattern:""}},computed:{langName:function(){var t=this,e=this.$store.state.langs.find((function(e){return e.Identifier===t.$store.state.settings.lang}));return e?e.DisplayName:""}},methods:{addWord:function(){this.$emit("addWord",{word:this.word,pattern:this.pattern.toLowerCase()})}}},pt=ft,vt=a("62ad"),mt=a("4bd4"),ht=a("0fd9"),gt=a("8654"),bt=Object(f["a"])(pt,dt,ut,!1,null,null,null),_t=bt.exports;v()(bt,{VBtn:m["a"],VCol:vt["a"],VForm:mt["a"],VIcon:h["a"],VRow:ht["a"],VTextField:gt["a"]});var wt={name:"AddWordsOnline",components:{AddWordForm:_t},data:function(){return{snackbarDisplay:!1,snackbarText:!1,headers:[{text:"",sortable:!1,value:"action",width:10},{text:"Word",sortable:!0,value:"word"},{text:"Pattern",sortable:!0,value:"pattern"}],words:[]}},methods:{init:function(){var t=this;fetch(this.$VARNAM_REVIEW_URL+"/suggestions?lang="+this.$store.state.settings.lang).then((function(t){return t.json()})).then((function(e){t.words=e}))},addWord:function(t){var e=this;t.lang=this.$store.state.settings.lang,fetch(this.$VARNAM_REVIEW_URL+"/suggestions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){e.snackbarText="Suggestion was addedd successfully",e.snackbarDisplay=!0,e.init()}))},vote:function(t){var e=this.words.find((function(e){return e._id===t}));fetch(this.$VARNAM_REVIEW_URL+"/suggestions/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sid:t})}).then((function(t){return t.json()})).then((function(t){"voted"===t.message?(e.voted=!1,e.votes--):"success"===t.message&&(e.voted=!0,e.votes++)}))}},mounted:function(){var t=this;this.init(),this.$store.subscribe((function(e){"updateSettings"===e.type&&t.init()}))}},xt=wt,kt=a("8fea"),yt=a("2db4"),Vt=Object(f["a"])(xt,lt,ct,!1,null,null,null),St=Vt.exports;v()(Vt,{VBtn:m["a"],VDataTable:kt["a"],VIcon:h["a"],VSnackbar:yt["a"]});var $t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.$VARNAM_OFFLINE?a("div",[a("v-card",{attrs:{rounded:"",outlined:""}},[a("v-card-title",[t._v("Learn Word")]),a("v-card-subtitle",[t._v("Type in the word for Varnam to learn. Varnam will make different patterns from the word and add it to its database.")]),a("v-card-text",[a("v-text-field",{attrs:{label:"Word in "+t.langName,"hide-details":!0,outlined:"",clearable:""},scopedSlots:t._u([{key:"append-outer",fn:function(){return[a("v-btn",{staticStyle:{top:"-12px"},attrs:{large:"",color:"primary"},on:{click:t.learnWord}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-teach")]),t._v(" Learn Word ")],1)]},proxy:!0}],null,!1,2016219063),model:{value:t.wordToLearn,callback:function(e){t.wordToLearn=e},expression:"wordToLearn"}})],1)],1),a("v-card",{attrs:{rounded:"",outlined:""}},[a("v-card-title",[t._v("Train Word")]),a("v-card-subtitle",[t._v("Ask Varnam to use a particular pattern for a word.")]),a("v-card-text",[a("AddWordForm",{on:{addWord:t.addWord}})],1)],1),a("v-card",{attrs:{rounded:"",outlined:""}},[a("v-card-title",[t._v("Delete Word")]),a("v-card-subtitle",[t._v("Varnam will delete this word and all patterns associated with it from database.")]),a("v-card-text",[a("v-row",{attrs:{cols:"12",align:"center"}},[a("v-col",{attrs:{cols:"9"}},[a("v-text-field",{attrs:{label:"Word to delete (in "+t.langName+")","hide-details":!0,outlined:""},model:{value:t.wordToDelete,callback:function(e){t.wordToDelete=e},expression:"wordToDelete"}})],1),a("v-col",{attrs:{cols:"3"}},[a("v-btn",{attrs:{large:"",color:"error"},on:{click:function(e){return t.deleteWord()}}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-minus")]),t._v(" Delete Word ")],1)],1)],1)],1)],1),a("v-card",{attrs:{rounded:"",outlined:""}},[a("v-card-title",[t._v("Import Words")]),a("v-card-subtitle",[t._v("Import many words to Varnam.")]),a("v-card-text",[a("v-tabs",{attrs:{vertical:!0},model:{value:t.vtab,callback:function(e){t.vtab=e},expression:"vtab"}},[a("v-tab",{attrs:{href:"#file"}},[t._v("File")]),a("v-tab",{attrs:{href:"#online"}},[t._v("Online")]),a("v-tab-item",{attrs:{value:"file"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("ImportFromFile")],1)],1)],1),a("v-tab-item",{attrs:{value:"online"}},[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-text",[a("ImportFromOnline")],1)],1)],1)],1)],1)],1)],1):a("div",[a("AddWordForm",{on:{addWord:t.addWord}}),a("v-data-table",{attrs:{headers:t.headers,items:t.words,"items-per-page":5,"sort-by":"votes","sort-desc":""},on:{"update:items":function(e){t.words=e}},scopedSlots:t._u([{key:"item.action",fn:function(e){var n=e.item;return[a("v-btn",{attrs:{small:"",color:"error"},on:{click:function(e){return t.deleteWord(n.id)}}},[a("v-icon",[t._v("mdi-delete")])],1)]}}])})],1),a("v-snackbar",{attrs:{right:!0},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:"secondary",text:""},on:{click:function(e){t.snackbarDisplay=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},Tt=[],It=a("1da1"),At=(a("96cf"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-form",[a("p",[t._v("Choose a file to import (learn) words from. Can be "),a("b",[t._v("any text file")]),t._v(" that has "+t._s(t.langName)+" words or "),a("b",[t._v(".VPF")]),t._v(" [Varnam Pack Files] files downloaded from "),a("a",{attrs:{href:"https://varnamproject.com/packs",target:"_blank"}},[t._v("here.")])]),a("v-file-input",{attrs:{multiple:"",label:"File input"},model:{value:t.files,callback:function(e){t.files=e},expression:"files"}}),a("v-btn",{attrs:{color:"primary",disabled:0===this.files.length},on:{click:t.upload}},[t._v("Upload & Import")])],1),a("br"),a("v-card",{directives:[{name:"show",rawName:"v-show",value:t.log.length>0,expression:"log.length > 0"}],attrs:{flat:"",loading:t.loading}},[a("v-card-subtitle",[t._v("Import Status")]),a("v-card-text",[a("ul",t._l(t.log,(function(e,n){return a("li",{key:n},[t._v(t._s(e))])})),0)])],1)],1)}),Dt=[],Ot=(a("1276"),{name:"ImportFromFile",data:function(){return{files:[],log:[],loading:!1}},computed:{langName:function(){var t=this,e=this.$store.state.langs.find((function(e){return e.Identifier===t.$store.state.settings.lang}));return e?e.DisplayName:""}},methods:{upload:function(){var t=this,e=new FormData;this.files.forEach((function(t){return e.append("files",t)})),this.log=[],this.loading=!0,fetch(this.$VARNAM_API_URL+"/learn/upload/"+this.$store.state.settings.lang,{method:"POST",body:e}).then(function(){var e=Object(It["a"])(regeneratorRuntime.mark((function e(a){var n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(200!==a.status){e.next=6;break}n=a.body.getReader(),r=function e(a){var r=a.done,s=a.value,i=new TextDecoder("utf-8").decode(s).split("\n").filter((function(t){return 0!==t.length}));if(i.forEach((function(e){return t.log.push(e)})),!r)return n.read().then(e);t.loading=!1,t.$toast("Successfully learnt words in file",{color:"success"})},n.read().then(r),e.next=10;break;case 6:return e.next=8,a.json();case 8:s=e.sent,t.$toast(s.message,{color:"error"});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(t){console.error("Error:",t)}))}}}),Ct=Ot,Nt=a("23a7"),Rt=Object(f["a"])(Ct,At,Dt,!1,null,null,null),Lt=Rt.exports;v()(Rt,{VBtn:m["a"],VCard:G["a"],VCardSubtitle:K["c"],VCardText:K["d"],VFileInput:Nt["a"],VForm:mt["a"]});var jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-data-table",{staticClass:"packsTable",attrs:{headers:t.headers,items:t.packs,"item-key":"identifier","show-expand":"","show-select":""},on:{"update:items":function(e){t.packs=e},"item-selected":t.onPackSelect,"toggle-select-all":t.onPackSelectAll},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-row",{attrs:{align:"center",justify:"end"}},[a("v-col",{attrs:{l:"10"}},[t._v(" Choose the language packs you need and click download ")]),a("v-col",{attrs:{cols:"2"}},[a("v-btn",{attrs:{depressed:"",color:"primary",disabled:t.downloadBtnDisabled,title:"Download & Import","aria-label":"Download & Import"},on:{click:t.download}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-down-box")]),t._v(" Download ")],1)],1)],1)]},proxy:!0},{key:"item.data-table-select",fn:function(e){var n=e.item,r=e.isSelected,s=e.select;return[n.installed?a("v-icon",{attrs:{color:"success",title:"Installed","aria-label":"Installed"}},[t._v("mdi-checkbox-blank-circle")]):a("div",[a("v-simple-checkbox",{attrs:{ripple:!1,value:r},on:{input:function(t){return s(t)}}})],1)]}},{key:"expanded-item",fn:function(e){var n=e.headers,r=e.item;return[a("td"),a("td",{attrs:{colspan:n.length}},[a("v-data-table",{attrs:{headers:t.pageHeaders,items:r.pages,"hide-default-header":!0,"hide-default-footer":!0,"item-key":"identifier","show-select":""},on:{"update:items":function(e){return t.$set(r,"pages",e)},"item-selected":t.onPackPageSelect},scopedSlots:t._u([{key:"item.data-table-select",fn:function(e){var n=e.item,r=e.isSelected,s=e.select;return[n.installed?a("v-icon",{attrs:{color:"success",title:"Installed","aria-label":"Installed"}},[t._v("mdi-checkbox-blank-circle")]):a("div",[a("v-simple-checkbox",{attrs:{ripple:!1,value:r},on:{input:function(t){return s(t)}}})],1)]}},{key:"item.size",fn:function(e){var a=e.item;return[t._v(" "+t._s(t._f("formatSize")(a.size))+" ")]}}],null,!0),model:{value:t.packsPagesSelected,callback:function(e){t.packsPagesSelected=e},expression:"packsPagesSelected"}})],1)]}}]),model:{value:t.packsSelected,callback:function(e){t.packsSelected=e},expression:"packsSelected"}}),Object.keys(t.log).length>0?a("v-tabs",{model:{value:t.logTab,callback:function(e){t.logTab=e},expression:"logTab"}},[t._l(t.log,(function(e,n){return a("v-tab",{key:n},[t._v(" "+t._s(n)+" ")])})),t._l(t.log,(function(e,n){return a("v-tab-item",{key:n},[a("v-card",{attrs:{flat:"",loading:e.loading}},[a("v-card-subtitle",[t._v("Import Status")]),a("v-card-text",[a("ul",t._l(e.log,(function(e,n){return a("li",{key:n},[t._v(t._s(e))])})),0)])],1)],1)}))],2):t._e()],1)},Ft=[],Pt=(a("d81d"),{name:"ImportFromOnline",data:function(){return{headers:[{text:"Name",sortable:!0,value:"name"},{text:"Description",sortable:!1,value:"description"}],pageHeaders:[{text:"Page",sortable:!1,value:"page"},{text:"Description",sortable:!1,value:"description"},{text:"Size",sortable:!1,value:"size"}],log:{},logLoading:!1,logTab:0,packsInstalled:[],packsFromUpstream:[],packsSelected:[],packsPagesSelected:[]}},computed:{downloadBtnDisabled:function(){return 0===this.packsPagesSelected.length},upstreamURL:function(){return this.$store.state.upstreamURL},packs:function(){var t=this;return this.packsFromUpstream.map((function(e,a){var n=0;return e.pages=e.pages.map((function(a){return a.packID=e.identifier,a.installed=t.packsInstalled.indexOf(a.identifier)>-1,a.installed&&n++,a})),e.installed=n===e.pages.length,e}))}},methods:{init:function(){var t=this;window.fetch(window.$VARNAM_API_URL+"/packs/"+this.$store.state.settings.lang).then(function(){var e=Object(It["a"])(regeneratorRuntime.mark((function e(a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.fetchPacksFromUpstream(),e.next=3,a.json();case 3:n=e.sent,200===a.status?t.packsInstalled=n.reduce((function(t,e){return t.concat(e.pages.reduce((function(t,e){return t.push(e.identifier),t}),[]))}),[]):404===a.status?t.packsInstalled=[]:t.$toast("Local: "+n.message,{color:"error"});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fetchPacksFromUpstream:function(){var t=this;window.fetch(this.upstreamURL+"/packs/"+this.$store.state.settings.lang).then((function(t){return t.json()})).then((function(e){t.packsFromUpstream=e instanceof Array?e:[]}))},onPackSelect:function(t){if(t.value)this.packsPagesSelected=this.packsPagesSelected.concat(t.item.pages.filter((function(t){return!t.installed})));else{var e=[];t.item.pages.forEach((function(t){return e.push(t.id)})),this.packsPagesSelected=this.packsPagesSelected.filter((function(t){return-1===e.indexOf(t.id)}))}},onPackPageSelect:function(t){var e=this.packs.find((function(e){return e.identifier===t.item.packID})),a=this.packsPagesSelected.filter((function(e){return e.packID===t.item.packID})),n=e.pages.filter((function(t){return!t.installed}));n.length===a.length+(t.value?1:-1)?this.packsSelected.push(e):this.packsSelected=this.packsSelected.filter((function(e){return e.identifier!==t.item.packID}))},onPackSelectAll:function(t){if(t.value){var e=this.packs.reduce((function(t,e){return t.concat(e.pages.filter((function(t){return!t.installed})))}),[]);this.packsPagesSelected=e}else this.packsPagesSelected=[]},downloadPack:function(t){var e=this,a=t.identifier;return new Promise((function(n,r){e.$set(e.log,a,{loading:!0,log:["Downloading pack..."]}),window.fetch(e.$VARNAM_API_URL+"/packs/download",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:e.$store.state.settings.lang,pack:t.packID,page:a})}).then(function(){var s=Object(It["a"])(regeneratorRuntime.mark((function s(i){var o,l,c;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(200!==i.status){s.next=6;break}o=i.body.getReader(),l=function r(s){var i=s.done,l=s.value,c=new TextDecoder("utf-8").decode(l).split("\n").filter((function(t){return 0!==t.length}));if(c.forEach((function(t){return e.$set(e.log[a].log,e.log[a].log.length,t)})),!i)return o.read().then(r);e.$set(e.log[a],"loading",!1),e.$toast("Successfully imported pack",{color:"success"}),e.packsInstalled.push(t.identifier),n()},o.read().then(l),s.next=13;break;case 6:return s.next=8,i.json();case 8:c=s.sent,e.$toast(c.message,{color:"error"}),e.$set(e.log[a],"loading",!1),e.$set(e.log[a].log,e.log[a].log.length,c.message),r(new Error(c.message));case 13:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}())}))},download:function(){var t=this;this.packsPagesSelected.forEach(function(){var e=Object(It["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.downloadPack(a);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},created:function(){var t=this;this.init(),this.$store.subscribe((function(e){"setUpstream"===e.type&&t.fetchPacksFromUpstream()}))},mounted:function(){var t=this;this.init(),this.$store.subscribe((function(e){"updateSettings"===e.type&&t.init()}))}}),Wt=Pt,Et=(a("810e"),a("9e88")),Ut=a("71a3"),Mt=a("c671"),Bt=a("fe57"),qt=Object(f["a"])(Wt,jt,Ft,!1,null,null,null),zt=qt.exports;v()(qt,{VBtn:m["a"],VCard:G["a"],VCardSubtitle:K["c"],VCardText:K["d"],VCol:vt["a"],VDataTable:kt["a"],VIcon:h["a"],VRow:ht["a"],VSimpleCheckbox:Et["a"],VTab:Ut["a"],VTabItem:Mt["a"],VTabs:Bt["a"]});var Ht={name:"AddWordsOffline",components:{AddWordForm:_t,ImportFromFile:Lt,ImportFromOnline:zt},computed:{langName:function(){var t=this,e=this.$store.state.langs.find((function(e){return e.Identifier===t.$store.state.settings.lang}));return e?e.DisplayName:""},vtab:{set:function(t){this.$router.replace({query:Object(ot["a"])(Object(ot["a"])({},this.$route.query),{},{vtab:t})})},get:function(){return this.$route.query.vtab}}},data:function(){return{snackbarDisplay:!1,snackbarText:!1,wordToLearn:"",wordToDelete:"",headers:[{text:"",sortable:!1,value:"action",width:10},{text:"Word",sortable:!0,value:"word"},{text:"Pattern",sortable:!0,value:"pattern"}],words:[]}},methods:{init:function(){var t=this;this.$VARNAM_OFFLINE||this.$VARNAM_IDB.getWordsStore().then((function(e){e.getAll().onsuccess=function(e){t.words=e.target.result}}))},learnWord:function(){var t=this,e=this.wordToLearn.trim();""===e&&(this.snackbarText="Some inputs were empty",this.snackbarDisplay=!0),fetch(this.$VARNAM_API_URL+"/learn",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:this.$store.state.settings.lang,text:e})}).then((function(a){200===a.status&&(t.snackbarText='Succesfully learnt word "'.concat(e,'"'),t.snackbarDisplay=!0,t.wordToLearn="")}))},addWord:function(t){var e=this;""!==t.pattern.trim()&&""!==t.word.trim()||(this.snackbarText="Some inputs were empty",this.snackbarDisplay=!0),this.$VARNAM_OFFLINE?fetch(this.$VARNAM_API_URL+"/train/"+this.$store.state.settings.lang,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pattern:t.pattern,word:t.word})}).then((function(a){200===a.status&&(e.snackbarText='Succesfully trained "'.concat(t.pattern,'" => "').concat(t.word,'"'),e.snackbarDisplay=!0,e.wordToLearn="")})):this.$VARNAM_IDB.getWordsStore().then((function(a){var n=a.add(t);n.onsuccess=function(){e.snackbarText="Word was addedd successfully",e.snackbarDisplay=!0,e.init()},n.onerror=function(t){console.log(t)}}))},deleteWord:function(t){var e=this;this.$VARNAM_OFFLINE?fetch(this.$VARNAM_API_URL+"/delete",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:this.$store.state.settings.lang,word:this.wordToDelete})}).then(function(){var t=Object(It["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(200!==a.status){t.next=6;break}e.snackbarText='Succesfully deleted word "'.concat(e.wordToDelete,'"'),e.snackbarDisplay=!0,e.wordToLearn="",t.next=11;break;case 6:return t.next=8,a.json();case 8:a=t.sent,e.snackbarText="Error: ".concat(a.message),e.snackbarDisplay=!0;case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):this.$VARNAM_IDB.getWordsStore().then((function(a){a.delete(t),e.init()}))}},mounted:function(){this.init()}},Jt=Ht,Gt=Object(f["a"])(Jt,$t,Tt,!1,null,null,null),Kt=Gt.exports;v()(Gt,{VBtn:m["a"],VCard:G["a"],VCardSubtitle:K["c"],VCardText:K["d"],VCardTitle:K["e"],VCol:vt["a"],VDataTable:kt["a"],VIcon:h["a"],VRow:ht["a"],VSnackbar:yt["a"],VTab:Ut["a"],VTabItem:Mt["a"],VTabs:Bt["a"],VTextField:gt["a"]});var Zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{flat:"",tile:""}},[a("v-card-title",[t._v("Editor")]),a("v-card-text",[a("v-text-field",{attrs:{type:"number",label:"Font Size",outlined:"","hide-details":!0},model:{value:t.fontSize,callback:function(e){t.fontSize=e},expression:"fontSize"}})],1)],1)],1)},Yt=[],Qt={name:"EditorSettings",data:function(){return{}},computed:{fontSize:{get:function(){return this.$store.state.settings.fontSize},set:function(t){this.$store.commit("updateSettings",{fontSize:t})}}},methods:{init:function(){}},mounted:function(){this.init()}},Xt=Qt,te=Object(f["a"])(Xt,Zt,Yt,!1,null,null,null),ee=te.exports;v()(te,{VCard:G["a"],VCardText:K["d"],VCardTitle:K["e"],VTextField:gt["a"]});var ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-card",{attrs:{flat:"",tile:"",loading:t.loading}},[a("v-card-title",[t._v("Languages")]),a("v-card-actions",[a("p",{staticStyle:{"font-weight":"initial"}},[t._v(" Setting up languages from here requires internet. You can also download language files ("),a("b",[t._v(".VST")]),t._v(") from "),a("a",{attrs:{target:"_blank",href:"https://varnamproject.com/downloads"}},[t._v("here")]),t._v(" and set it up manually. ")]),a("v-spacer"),a("v-btn",{attrs:{depressed:"",color:"primary",disabled:t.downloadBtnDisabled,title:"Download & Import","aria-label":"Download & Import"},on:{click:t.download}},[a("v-icon",{attrs:{left:""}},[t._v("mdi-arrow-down-box")]),t._v(" Download & Install ")],1)],1),a("v-card-text",[a("v-data-table",{attrs:{headers:t.headers,items:t.langs,loading:t.tableLoading,"sort-by":"DisplayName","item-key":"Identifier","show-select":"","items-per-page":20},on:{"update:items":function(e){t.langs=e}},scopedSlots:t._u([{key:"item.installed",fn:function(e){var n=e.item;return[t.langsInstalled.find((function(t){return t.Identifier===n.Identifier}))?a("div",[t.langsDownloadable.indexOf(n.Identifier)>-1?a("v-icon",{attrs:{color:"warning",title:"Update available","aria-label":"Update available"}},[t._v("mdi-checkbox-blank-circle")]):a("v-icon",{attrs:{color:"success",title:"Installed","aria-label":"Installed"}},[t._v("mdi-checkbox-blank-circle")]),t._v(" "+t._s(t.langsInstalled.find((function(t){return t.Identifier===n.Identifier})).CompiledDate.split(" ")[0])+" ")],1):t._e()]}}]),model:{value:t.selectedLangs,callback:function(e){t.selectedLangs=e},expression:"selectedLangs"}})],1)],1),a("v-snackbar",{attrs:{right:!0},scopedSlots:t._u([{key:"action",fn:function(e){var n=e.attrs;return[a("v-btn",t._b({attrs:{color:t.snackbarColor,text:""},on:{click:function(e){t.snackbarDisplay=!1}}},"v-btn",n,!1),[t._v(" Close ")])]}}]),model:{value:t.snackbarDisplay,callback:function(e){t.snackbarDisplay=e},expression:"snackbarDisplay"}},[t._v(" "+t._s(t.snackbarText)+" ")])],1)},ne=[],re={name:"LanguageDownload",computed:{downloadBtnDisabled:function(){var t=this;return!this.selectedLangs.find((function(e){return t.langsDownloadable.indexOf(e.Identifier)>-1}))},upstreamURL:function(){return this.$store.state.upstreamURL},langsInstalled:function(){return this.$store.state.langs},langsDownloadable:function(){var t=this,e=this.langs.filter((function(e){var a=t.langsInstalled.find((function(t){return t.Identifier===e.Identifier}));return!a||e.CompiledDate>a.CompiledDate}));return e.reduce((function(t,e){return t.concat(e.Identifier)}),[])}},data:function(){return{snackbarColor:"secondary",snackbarDisplay:!1,snackbarText:!1,loading:!1,tableLoading:!1,headers:[{text:"Name",value:"DisplayName"},{text:"Author",value:"Author"},{text:"Updated",value:"CompiledDate"},{text:"Installed",value:"installed"}],langs:[],selectedLangs:[]}},methods:{init:function(){var t=this;this.tableLoading=!0,window.fetch(this.upstreamURL+"/languages").then((function(t){return t.json()})).then((function(e){t.tableLoading=!1,t.langs=e}))},download:function(){var t=this,e=this.selectedLangs.filter((function(e){return t.langsDownloadable.indexOf(e.Identifier)>-1}));e=e.reduce((function(t,e){return t.concat(e.Identifier)}),[]);var a=0;e.forEach((function(n){t.loading=!0,window.fetch(t.$VARNAM_API_URL+"/download-language",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({lang:n})}).then(function(){var r=Object(It["a"])(regeneratorRuntime.mark((function r(s){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.loading=!1,200!==s.status){r.next=5;break}++a===e.length?t.$toast("All selected languages downloaded. Restart app for changes to take effect.",{color:"secondary"}):t.$toast("Language '".concat(n,"' downloaded"),{color:"secondary"}),r.next=9;break;case 5:return r.next=7,s.json();case 7:s=r.sent,t.$toast(s.message,{color:"error"});case 9:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}())}))}},created:function(){var t=this;this.init(),this.$store.subscribe((function(e){"setUpstream"===e.type&&t.init()}))}},se=re,ie=Object(f["a"])(se,ae,ne,!1,null,null,null),oe=ie.exports;v()(ie,{VBtn:m["a"],VCard:G["a"],VCardActions:K["b"],VCardText:K["d"],VCardTitle:K["e"],VDataTable:kt["a"],VIcon:h["a"],VSnackbar:yt["a"],VSpacer:$["a"]});var le=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{attrs:{padless:!0}},[a("v-card",{staticClass:"text-center",attrs:{flat:"",tile:"",width:"100%"}},[a("v-card-text",[t._v(" Need Help ? Feedback ? "),a("a",{attrs:{href:"https://indicproject.org/",target:"_blank"}},[t._v("Contact Us")]),a("br"),a("br"),a("a",{attrs:{href:"https://varnamproject.com/",target:"_blank"}},[t._v("Varnam")]),t._v(" is a Free Software under "),a("a",{attrs:{href:"https://indicproject.org/",target:"_blank"}},[t._v("Indic Project")]),t._v(". Copyright 2020, "),a("a",{attrs:{href:"https://github.com/varnamproject/editor/graphs/contributors",target:"_blank"}},[t._v("Varnam Contributors")]),t._v(". ")])],1)],1)},ce=[],de={name:"Footer"},ue=de,fe=a("553a"),pe=Object(f["a"])(ue,le,ce,!1,null,null,null),ve=pe.exports;v()(pe,{VCard:G["a"],VCardText:K["d"],VFooter:fe["a"]});var me={name:"Settings",components:{AddWordsOnline:St,AddWordsOffline:Kt,EditorSettings:ee,LanguageDownload:oe,Footer:ve},computed:{tab:{set:function(t){this.$router.replace({query:Object(ot["a"])(Object(ot["a"])({},this.$route.query),{},{tab:t})})},get:function(){return this.$route.query.tab}},vtab:{set:function(t){this.$router.replace({query:Object(ot["a"])(Object(ot["a"])({},this.$route.query),{},{vtab:t})})},get:function(){return this.$route.query.vtab}}}},he=me,ge=a("ce7e"),be=a("0e8f"),_e=a("a722"),we=a("9a96"),xe=Object(f["a"])(he,st,it,!1,null,null,null),ke=xe.exports;v()(xe,{VCard:G["a"],VCardText:K["d"],VContainer:at["a"],VDivider:ge["a"],VFlex:be["a"],VIcon:h["a"],VLayout:_e["a"],VTab:Ut["a"],VTabItem:Mt["a"],VTabs:Bt["a"],VTabsSlider:we["a"]});var ye=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{attrs:{fluid:""}},[a("v-layout",{staticClass:"d-flex justify-center"},[a("v-flex",{attrs:{xs11:"",xl6:""}},[a("v-tabs",{attrs:{grow:!0,"show-arrows":!0},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#scheme"}},[a("v-icon",[t._v("lead-pencil")]),t._v(" Scheme ")],1),a("v-tab",{attrs:{href:"#reverse"}},[a("v-icon",[t._v("lead-pencil")]),t._v(" How To Write A Word ")],1),a("v-tab",{attrs:{href:"#credits"}},[a("v-icon",[t._v("lead-pencil")]),t._v(" Credits ")],1),a("v-tab-item",{attrs:{value:"scheme"}},[a("v-card",{attrs:{loading:t.schemeCardLoading}},[a("v-card-text",[a("p",[t._v("This page shows which key is mapped to each letter."),a("br"),a("b",[t._v('"Primary"')]),t._v(" is the "),a("b",[t._v("highest")]),t._v(" priority primary key combination for a letter."),a("br"),a("b",[t._v('"Secondary"')]),t._v(" is only a secondary key for a letter.")])]),a("v-card-title",[t.tableTitle?a("p",{staticClass:"text-h4 text--primary"},[a("v-btn",{staticClass:"ma-2",attrs:{to:"/scheme",color:"primary",depressed:""}},[a("v-icon",{attrs:{left:t.icon}},[t._v("mdi-arrow-left")]),a("span",{directives:[{name:"show",rawName:"v-show",value:t.iconText,expression:"iconText"}]},[t._v("Back")])],1),t._v(" "+t._s(t.tableTitle)+" ")],1):a("v-btn",{attrs:{color:"primary"},on:{click:t.toggleAllGroups}},[t._v(t._s(t.groupsOpened>0?"Close All":"Open All"))]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),a("v-data-table",{attrs:{headers:t.headers,items:t.definitions,"items-per-page":-1,"group-by":"Category",search:t.search,"custom-sort":t.schemeTableSortFunc,dense:""},scopedSlots:t._u([{key:"group.header",fn:function(e){var n=e.group,r=e.headers,s=e.toggle,i=e.isOpen;return[a("td",{attrs:{colspan:r.length}},[a("v-btn",{ref:n,attrs:{"x-small":"",icon:"",opened:i},on:{click:function(){s(),t.updateGroupsOpen()}}},[a("v-icon",i?[t._v("mdi-minus")]:[t._v("mdi-plus")])],1),a("span",{staticClass:"mx-5 text-subtitle-1 font-weight-bold"},[t._v(t._s(n))])],1)]}},{key:"item.Letter",fn:function(e){var n=e.item;return[a("router-link",{staticClass:"text-h6",attrs:{to:"/scheme/"+n.Letter}},[t._v(t._s(n.Letter))])]}}])})],1)],1),a("v-tab-item",{attrs:{value:"reverse"}},[a("v-card",[a("v-card-text",[a("v-form",{staticClass:"d-flex flex-row flex-grow-1",on:{submit:t.reverseTransliterate}},[a("v-text-field",{staticClass:"flex-grow-1",attrs:{"append-icon":"mdi-magnify",label:"Type "+t.schemeDisplayName+" words here...","single-line":"","hide-details":""},model:{value:t.reverseTransliterateInput,callback:function(e){t.reverseTransliterateInput=e},expression:"reverseTransliterateInput"}}),a("v-btn",{staticClass:"flex-shrink-0 ml-4 align-self-center",attrs:{color:"primary",type:"submit"}},[t._v("Find")])],1),a("p",{staticClass:"mt-2"},[t._v("Find different ways to write a "+t._s(t.schemeDisplayName)+" word. This is reverse transliteration.")]),t._l(t.reverseTransliterationResult,(function(e,n){return a("v-list-item",{key:n},[a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(n+1)+". "+t._s(e))])],1)],1)}))],2)],1)],1),a("v-tab-item",{attrs:{value:"credits"}},[a("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[a("tbody",t._l(Object.keys(t.details),(function(e){return a("tr",{key:e},[a("td",[t._v(t._s(e))]),a("td",[t._v(t._s(t.details[e]))])])})),0)]},proxy:!0}])})],1)],1)],1)],1),a("br"),a("v-divider"),a("Footer")],1)},Ve=[],Se=(a("a15b"),a("b64b"),a("4e827"),{name:"Settings",components:{Footer:ve},data:function(){return{tableTitle:"",details:{},schemeCardLoading:!1,definitions:[],headers:[{text:"Letter",align:"start",value:"Letter",groupable:!0,width:"15%"},{text:"Primary",value:"Exact",width:"20%"},{text:"Secondary",value:"Possibility",width:"20%"},{text:""}],search:"",reverseTransliterateInput:"",reverseTransliterationResult:[],groupsOpened:1}},computed:{tab:{set:function(t){"scheme"===t?this.$router.replace({query:{}}):this.$router.replace({query:Object(ot["a"])(Object(ot["a"])({},this.$route.query),{},{tab:t})})},get:function(){return""===this.$route.query.tab?"scheme":this.$route.query.tab}},vtab:{set:function(t){this.$router.replace({query:Object(ot["a"])(Object(ot["a"])({},this.$route.query),{},{vtab:t})})},get:function(){return this.$route.query.vtab}},schemeID:function(){return this.$store.state.settings.lang},schemeDisplayName:function(){var t=this,e=this.$store.state.langs.find((function(e){return e.Identifier===t.$store.state.settings.lang}));return e?e.DisplayName:""}},methods:{init:function(){var t=this;this.schemeCardLoading=!0;var e=this.$VARNAM_API_URL+"/schemes/"+this.schemeID+"/definitions";this.$route.params.letter?(e+="/"+this.$route.params.letter,this.tableTitle=this.$route.params.letter):this.tableTitle="",fetch(e).then((function(t){return t.json()})).then((function(e){t.details=e.Details,t.definitions=e.Definitions.map((function(t){return t.Exact=t.Exact&&t.Exact.join(", "),t.Possibility=t.Possibility&&t.Possibility.join(", "),t})),t.schemeCardLoading=!1,t.$nextTick((function(){t.updateGroupsOpen(),t.groupsOpened>0&&t.toggleAllGroups()}))}))},toggleAllGroups:function(){var t=this,e=!1;this.groupsOpened>0&&(e=!0),Object.keys(this.$refs).forEach((function(a){if(t.$refs[a]){var n=t.$refs[a].$el;e&&n.hasAttribute("opened")&&n.click(),e||n.hasAttribute("opened")||n.click()}})),this.updateGroupsOpen()},updateGroupsOpen:function(){var t=this;this.$nextTick((function(){var e=0;Object.keys(t.$refs).forEach((function(a){if(t.$refs[a]){var n=t.$refs[a].$el;n.hasAttribute("opened")&&e++}})),t.groupsOpened=e}))},reverseTransliterate:function(t){var e=this;t.preventDefault();var a=encodeURIComponent(this.reverseTransliterateInput);fetch(this.$VARNAM_API_URL+"/rtl/"+this.schemeID+"/"+a).then((function(t){return t.json()})).then((function(t){e.reverseTransliterationResult=t.result}))},schemeTableSortFunc:function(t,e,a){return t.sort((function(t,a){t=t[e[0]],a=a[e[0]];var n=/^[A-Za-z0-9]*$/.test(t.substr(0,1)),r=/^[A-Za-z0-9]*$/.test(a.substr(0,1));return n&&r?t>a:n&&!r?1:!n&&r?-1:t.localeCompare(a)}))}},mounted:function(){var t=this;this.init(),this.$store.subscribe((function(e){"updateSettings"===e.type&&t.init()}))},watch:{$route:function(t,e){this.init()}}}),$e=Se,Te=a("5d23"),Ie=a("1f4f"),Ae=Object(f["a"])($e,ye,Ve,!1,null,null,null),De=Ae.exports;v()(Ae,{VBtn:m["a"],VCard:G["a"],VCardText:K["d"],VCardTitle:K["e"],VContainer:at["a"],VDataTable:kt["a"],VDivider:ge["a"],VFlex:be["a"],VForm:mt["a"],VIcon:h["a"],VLayout:_e["a"],VListItem:g["a"],VListItemContent:Te["g"],VListItemTitle:Te["k"],VSimpleTable:Ie["a"],VSpacer:$["a"],VTab:Ut["a"],VTabItem:Mt["a"],VTabs:Bt["a"],VTabsSlider:we["a"],VTextField:gt["a"]}),n["default"].use(F["a"]);var Oe=[{path:"/",name:"Home",component:rt},{path:"/settings",name:"Settings",component:ke},{path:"/scheme",name:"Scheme",component:De},{path:"/scheme/:letter",name:"SchemeLetter",component:De}],Ce=new F["a"]({routes:Oe}),Ne=Ce,Re=a("2f62");n["default"].use(Re["a"]);var Le=new Re["a"].Store({state:{currentWord:0,setupDialog:!1,langs:[],upstreamURL:"",suggestionsDisplay:[],suggestions:{},alternateWords:{},settings:{lang:"ml",fontSize:14},idbWords:{}},mutations:{initSettings:function(t){var e=window.localStorage.getItem("varnam-settings");e&&(e=JSON.parse(e),t.settings=Object.assign({},t.settings,e))},updateSettings:function(t,e){n["default"].set(t,"settings",Object(ot["a"])(Object(ot["a"])({},t.settings),e)),window.localStorage.setItem("varnam-settings",JSON.stringify(t.settings))},setCurrentWord:function(t,e){t.currentWord=e},setSuggestions:function(t,e){n["default"].set(t.suggestions,e.id,e.suggestions)},clearSuggestions:function(t,e){n["default"].delete(t.suggestions,e)},displaySuggestions:function(t,e){t.suggestionsDisplay=e},hideSuggestions:function(t){t.suggestionsDisplay=[]},setLangs:function(t,e){e.sort((function(t,e){return t.Identifier.localeCompare(e.Identifier)})),t.langs=e,0===e.length&&(t.setupDialog=!0)},setUpstream:function(t,e){t.upstreamURL=e},setIDBWords:function(t,e){var a={};e.forEach((function(t){a[t.pattern]=t.word})),t.idbWords=a},hideSetupDialog:function(t){t.setupDialog=!1},requestSend:function(){},chooseSuggestion:function(){}},actions:{},modules:{}}),je=a("f309"),Fe=a("ffa5"),Pe=a.n(Fe);n["default"].use(je["a"],{components:{VSnackbar:yt["a"],VBtn:m["a"],VIcon:h["a"]}}),n["default"].use(Pe.a);var We=new je["a"]({theme:{themes:{light:{primary:"#4c5df5",secondary:"#00bcd4",accent:"#03a9f4",error:"#e91e63",warning:"#ffc107",info:"#2196f3",success:"#4caf50"}}}});n["default"].config.productionTip=!1,window.$VARNAM_OFFLINE=!1,window.$VARNAM_API_URL="https://varnam.subinsb.com",window.$VARNAM_REVIEW_URL="https://varnam.subinsb.com:8124",n["default"].prototype.$VARNAM_OFFLINE=window.$VARNAM_OFFLINE,n["default"].prototype.$VARNAM_API_URL=window.$VARNAM_API_URL,n["default"].prototype.$VARNAM_REVIEW_URL=window.$VARNAM_REVIEW_URL,window.fetch(window.$VARNAM_API_URL+"/languages").then((function(t){return t.json()})).then((function(t){Le.commit("setLangs",t)})),Le.commit("initSettings"),window.$VARNAM_OFFLINE&&window.fetch(window.$VARNAM_API_URL+"/get/upstream-url").then((function(t){return t.text()})).then((function(t){Le.commit("setUpstream",t)})),n["default"].prototype.$LINK_OPEN_CLICK=function(t){};var Ee=1;n["default"].prototype.$VARNAM_IDB={getDB:function(){return new Promise((function(t){var e=window.indexedDB.open("varnam-"+Le.state.settings.lang,Ee);e.onupgradeneeded=function(t){var a=e.result;switch(t.oldVersion){case 0:a.createObjectStore("words",{keyPath:"id",autoIncrement:!0});break;case 1:}},e.onerror=function(){console.error("IndexedDB Error",e.error)},e.onsuccess=function(e){var a=e.target.result;t(a),a.onversionchange=function(){a.close(),window.alert("Database is outdated, please reload the page.")}}}))},getWordsStore:function(){var t=this;return new Promise((function(e){return t.getDB().then((function(t){var a=t.transaction("words","readwrite"),n=a.objectStore("words");e(n),t.close()}))}))},fetchWords:function(){this.getWordsStore().then((function(t){t.getAll().onsuccess=function(t){Le.commit("setIDBWords",t.target.result)}}))}},n["default"].filter("formatSize",(function(t){return t>1099511627776?(t/1024/1024/1024/1024).toFixed(2)+" TB":t>1073741824?(t/1024/1024/1024).toFixed(2)+" GB":t>1048576?(t/1024/1024).toFixed(2)+" MB":t>1024?(t/1024).toFixed(2)+" KB":t.toString()+" B"})),new n["default"]({router:Ne,store:Le,vuetify:We,render:function(t){return t(L)}}).$mount("#app")},8032:function(t,e,a){},"810e":function(t,e,a){"use strict";a("8032")},"85ec":function(t,e,a){}});
//# sourceMappingURL=app.c862b3e7.js.map